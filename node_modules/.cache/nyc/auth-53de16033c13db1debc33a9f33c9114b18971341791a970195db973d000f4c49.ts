"use strict";function cov_22j4khjrkt(){var path="/Users/yusramahomed/Desktop/seng2021--/se2021-23t1-einvoicing-api-h10a_CHEESECAKE-storage-api/src/functions/auth.ts";var hash="6087d934cd92167ec653c0d8d5f7cff7efc61ed7";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/yusramahomed/Desktop/seng2021--/se2021-23t1-einvoicing-api-h10a_CHEESECAKE-storage-api/src/functions/auth.ts",statementMap:{"0":{start:{line:2,column:22},end:{line:12,column:3}},"1":{start:{line:3,column:4},end:{line:3,column:33}},"2":{start:{line:3,column:26},end:{line:3,column:33}},"3":{start:{line:4,column:15},end:{line:4,column:52}},"4":{start:{line:5,column:4},end:{line:7,column:5}},"5":{start:{line:6,column:6},end:{line:6,column:68}},"6":{start:{line:6,column:51},end:{line:6,column:63}},"7":{start:{line:8,column:4},end:{line:8,column:39}},"8":{start:{line:10,column:4},end:{line:10,column:33}},"9":{start:{line:10,column:26},end:{line:10,column:33}},"10":{start:{line:11,column:4},end:{line:11,column:17}},"11":{start:{line:13,column:25},end:{line:17,column:2}},"12":{start:{line:14,column:4},end:{line:14,column:72}},"13":{start:{line:16,column:4},end:{line:16,column:21}},"14":{start:{line:18,column:19},end:{line:24,column:1}},"15":{start:{line:19,column:4},end:{line:19,column:42}},"16":{start:{line:19,column:31},end:{line:19,column:42}},"17":{start:{line:20,column:17},end:{line:20,column:19}},"18":{start:{line:21,column:4},end:{line:21,column:141}},"19":{start:{line:21,column:21},end:{line:21,column:141}},"20":{start:{line:21,column:40},end:{line:21,column:141}},"21":{start:{line:21,column:109},end:{line:21,column:141}},"22":{start:{line:22,column:4},end:{line:22,column:36}},"23":{start:{line:23,column:4},end:{line:23,column:18}},"24":{start:{line:25,column:16},end:{line:33,column:1}},"25":{start:{line:26,column:28},end:{line:26,column:110}},"26":{start:{line:26,column:91},end:{line:26,column:106}},"27":{start:{line:27,column:4},end:{line:32,column:7}},"28":{start:{line:28,column:36},end:{line:28,column:97}},"29":{start:{line:28,column:42},end:{line:28,column:70}},"30":{start:{line:28,column:85},end:{line:28,column:95}},"31":{start:{line:29,column:35},end:{line:29,column:100}},"32":{start:{line:29,column:41},end:{line:29,column:73}},"33":{start:{line:29,column:88},end:{line:29,column:98}},"34":{start:{line:30,column:32},end:{line:30,column:116}},"35":{start:{line:31,column:8},end:{line:31,column:78}},"36":{start:{line:34,column:18},end:{line:60,column:1}},"37":{start:{line:35,column:12},end:{line:35,column:104}},"38":{start:{line:35,column:43},end:{line:35,column:68}},"39":{start:{line:35,column:57},end:{line:35,column:68}},"40":{start:{line:35,column:69},end:{line:35,column:81}},"41":{start:{line:36,column:4},end:{line:36,column:157}},"42":{start:{line:36,column:138},end:{line:36,column:150}},"43":{start:{line:37,column:23},end:{line:37,column:68}},"44":{start:{line:37,column:45},end:{line:37,column:65}},"45":{start:{line:39,column:8},end:{line:39,column:70}},"46":{start:{line:39,column:15},end:{line:39,column:70}},"47":{start:{line:40,column:8},end:{line:57,column:66}},"48":{start:{line:40,column:50},end:{line:57,column:66}},"49":{start:{line:41,column:12},end:{line:41,column:169}},"50":{start:{line:41,column:160},end:{line:41,column:169}},"51":{start:{line:42,column:12},end:{line:42,column:52}},"52":{start:{line:42,column:26},end:{line:42,column:52}},"53":{start:{line:43,column:12},end:{line:55,column:13}},"54":{start:{line:44,column:32},end:{line:44,column:39}},"55":{start:{line:44,column:40},end:{line:44,column:46}},"56":{start:{line:45,column:24},end:{line:45,column:34}},"57":{start:{line:45,column:35},end:{line:45,column:72}},"58":{start:{line:46,column:24},end:{line:46,column:34}},"59":{start:{line:46,column:35},end:{line:46,column:45}},"60":{start:{line:46,column:46},end:{line:46,column:55}},"61":{start:{line:46,column:56},end:{line:46,column:65}},"62":{start:{line:47,column:24},end:{line:47,column:41}},"63":{start:{line:47,column:42},end:{line:47,column:55}},"64":{start:{line:47,column:56},end:{line:47,column:65}},"65":{start:{line:49,column:20},end:{line:49,column:128}},"66":{start:{line:49,column:110},end:{line:49,column:116}},"67":{start:{line:49,column:117},end:{line:49,column:126}},"68":{start:{line:50,column:20},end:{line:50,column:106}},"69":{start:{line:50,column:81},end:{line:50,column:97}},"70":{start:{line:50,column:98},end:{line:50,column:104}},"71":{start:{line:51,column:20},end:{line:51,column:89}},"72":{start:{line:51,column:57},end:{line:51,column:72}},"73":{start:{line:51,column:73},end:{line:51,column:80}},"74":{start:{line:51,column:81},end:{line:51,column:87}},"75":{start:{line:52,column:20},end:{line:52,column:87}},"76":{start:{line:52,column:47},end:{line:52,column:62}},"77":{start:{line:52,column:63},end:{line:52,column:78}},"78":{start:{line:52,column:79},end:{line:52,column:85}},"79":{start:{line:53,column:20},end:{line:53,column:42}},"80":{start:{line:53,column:30},end:{line:53,column:42}},"81":{start:{line:54,column:20},end:{line:54,column:33}},"82":{start:{line:54,column:34},end:{line:54,column:43}},"83":{start:{line:56,column:12},end:{line:56,column:39}},"84":{start:{line:57,column:22},end:{line:57,column:34}},"85":{start:{line:57,column:35},end:{line:57,column:41}},"86":{start:{line:57,column:54},end:{line:57,column:64}},"87":{start:{line:58,column:8},end:{line:58,column:35}},"88":{start:{line:58,column:23},end:{line:58,column:35}},"89":{start:{line:58,column:36},end:{line:58,column:89}},"90":{start:{line:61,column:22},end:{line:63,column:1}},"91":{start:{line:62,column:4},end:{line:62,column:62}},"92":{start:{line:64,column:0},end:{line:64,column:62}},"93":{start:{line:65,column:0},end:{line:65,column:101}},"94":{start:{line:66,column:17},end:{line:66,column:46}},"95":{start:{line:67,column:18},end:{line:67,column:49}},"96":{start:{line:68,column:21},end:{line:68,column:55}},"97":{start:{line:69,column:21},end:{line:69,column:61}},"98":{start:{line:70,column:20},end:{line:70,column:59}},"99":{start:{line:71,column:15},end:{line:71,column:49}},"100":{start:{line:72,column:21},end:{line:72,column:61}},"101":{start:{line:73,column:15},end:{line:73,column:32}},"102":{start:{line:75,column:4},end:{line:93,column:7}},"103":{start:{line:77,column:8},end:{line:92,column:11}},"104":{start:{line:78,column:12},end:{line:91,column:13}},"105":{start:{line:79,column:24},end:{line:79,column:86}},"106":{start:{line:81,column:20},end:{line:81,column:37}},"107":{start:{line:82,column:20},end:{line:89,column:21}},"108":{start:{line:83,column:24},end:{line:83,column:90}},"109":{start:{line:85,column:24},end:{line:85,column:67}},"110":{start:{line:88,column:24},end:{line:88,column:93}},"111":{start:{line:90,column:20},end:{line:90,column:42}},"112":{start:{line:96,column:4},end:{line:142,column:7}},"113":{start:{line:98,column:8},end:{line:141,column:11}},"114":{start:{line:99,column:12},end:{line:140,column:13}},"115":{start:{line:102,column:20},end:{line:104,column:21}},"116":{start:{line:103,column:24},end:{line:103,column:95}},"117":{start:{line:105,column:20},end:{line:107,column:21}},"118":{start:{line:106,column:24},end:{line:106,column:90}},"119":{start:{line:108,column:20},end:{line:108,column:96}},"120":{start:{line:110,column:20},end:{line:110,column:51}},"121":{start:{line:111,column:20},end:{line:113,column:21}},"122":{start:{line:112,column:24},end:{line:112,column:101}},"123":{start:{line:114,column:20},end:{line:114,column:94}},"124":{start:{line:116,column:20},end:{line:116,column:39}},"125":{start:{line:117,column:20},end:{line:119,column:21}},"126":{start:{line:118,column:24},end:{line:118,column:96}},"127":{start:{line:120,column:20},end:{line:120,column:33}},"128":{start:{line:122,column:20},end:{line:122,column:46}},"129":{start:{line:123,column:20},end:{line:123,column:68}},"130":{start:{line:124,column:20},end:{line:124,column:56}},"131":{start:{line:125,column:20},end:{line:131,column:22}},"132":{start:{line:132,column:20},end:{line:132,column:83}},"133":{start:{line:134,column:20},end:{line:134,column:30}},"134":{start:{line:135,column:20},end:{line:135,column:70}},"135":{start:{line:137,column:20},end:{line:137,column:40}},"136":{start:{line:138,column:20},end:{line:138,column:75}},"137":{start:{line:139,column:24},end:{line:139,column:46}},"138":{start:{line:144,column:0},end:{line:144,column:50}},"139":{start:{line:146,column:4},end:{line:211,column:7}},"140":{start:{line:148,column:8},end:{line:210,column:11}},"141":{start:{line:149,column:12},end:{line:209,column:13}},"142":{start:{line:152,column:20},end:{line:154,column:21}},"143":{start:{line:153,column:24},end:{line:153,column:96}},"144":{start:{line:155,column:20},end:{line:155,column:83}},"145":{start:{line:157,column:20},end:{line:157,column:51}},"146":{start:{line:158,column:20},end:{line:160,column:21}},"147":{start:{line:159,column:24},end:{line:159,column:94}},"148":{start:{line:161,column:20},end:{line:161,column:96}},"149":{start:{line:163,column:20},end:{line:163,column:49}},"150":{start:{line:164,column:20},end:{line:166,column:21}},"151":{start:{line:165,column:24},end:{line:165,column:92}},"152":{start:{line:167,column:20},end:{line:167,column:33}},"153":{start:{line:169,column:20},end:{line:169,column:46}},"154":{start:{line:170,column:20},end:{line:170,column:61}},"155":{start:{line:171,column:20},end:{line:171,column:52}},"156":{start:{line:172,column:20},end:{line:172,column:36}},"157":{start:{line:173,column:20},end:{line:173,column:68}},"158":{start:{line:174,column:20},end:{line:174,column:69}},"159":{start:{line:175,column:20},end:{line:177,column:23}},"160":{start:{line:178,column:20},end:{line:181,column:36}},"161":{start:{line:183,column:20},end:{line:183,column:46}},"162":{start:{line:184,column:20},end:{line:186,column:21}},"163":{start:{line:185,column:24},end:{line:185,column:92}},"164":{start:{line:187,column:20},end:{line:187,column:63}},"165":{start:{line:188,column:20},end:{line:195,column:22}},"166":{start:{line:197,column:20},end:{line:197,column:75}},"167":{start:{line:200,column:20},end:{line:200,column:30}},"168":{start:{line:201,column:20},end:{line:204,column:27}},"169":{start:{line:206,column:20},end:{line:206,column:40}},"170":{start:{line:207,column:20},end:{line:207,column:75}},"171":{start:{line:208,column:24},end:{line:208,column:46}},"172":{start:{line:213,column:0},end:{line:213,column:36}},"173":{start:{line:215,column:4},end:{line:255,column:7}},"174":{start:{line:217,column:8},end:{line:254,column:11}},"175":{start:{line:218,column:12},end:{line:253,column:13}},"176":{start:{line:221,column:20},end:{line:223,column:21}},"177":{start:{line:222,column:24},end:{line:222,column:83}},"178":{start:{line:224,column:20},end:{line:224,column:92}},"179":{start:{line:227,column:20},end:{line:229,column:21}},"180":{start:{line:228,column:24},end:{line:228,column:126}},"181":{start:{line:230,column:20},end:{line:233,column:36}},"182":{start:{line:235,column:20},end:{line:235,column:46}},"183":{start:{line:236,column:20},end:{line:236,column:60}},"184":{start:{line:237,column:20},end:{line:239,column:23}},"185":{start:{line:241,column:20},end:{line:241,column:48}},"186":{start:{line:243,column:20},end:{line:245,column:28}},"187":{start:{line:248,column:20},end:{line:248,column:30}},"188":{start:{line:249,column:20},end:{line:252,column:27}},"189":{start:{line:257,column:0},end:{line:257,column:30}},"190":{start:{line:259,column:4},end:{line:282,column:7}},"191":{start:{line:261,column:8},end:{line:281,column:11}},"192":{start:{line:262,column:12},end:{line:280,column:13}},"193":{start:{line:263,column:24},end:{line:263,column:72}},"194":{start:{line:265,column:20},end:{line:265,column:39}},"195":{start:{line:266,column:20},end:{line:266,column:76}},"196":{start:{line:267,column:20},end:{line:267,column:56}},"197":{start:{line:269,column:20},end:{line:269,column:40}},"198":{start:{line:270,column:20},end:{line:272,column:21}},"199":{start:{line:271,column:24},end:{line:271,column:80}},"200":{start:{line:273,column:20},end:{line:273,column:103}},"201":{start:{line:273,column:80},end:{line:273,column:99}},"202":{start:{line:275,column:20},end:{line:275,column:84}},"203":{start:{line:278,column:20},end:{line:278,column:30}},"204":{start:{line:279,column:20},end:{line:279,column:88}},"205":{start:{line:284,column:0},end:{line:284,column:32}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:2,column:74},end:{line:2,column:75}},loc:{start:{line:2,column:96},end:{line:9,column:1}},line:2},"1":{name:"(anonymous_1)",decl:{start:{line:6,column:38},end:{line:6,column:39}},loc:{start:{line:6,column:49},end:{line:6,column:65}},line:6},"2":{name:"(anonymous_2)",decl:{start:{line:9,column:6},end:{line:9,column:7}},loc:{start:{line:9,column:28},end:{line:12,column:1}},line:9},"3":{name:"(anonymous_3)",decl:{start:{line:13,column:80},end:{line:13,column:81}},loc:{start:{line:13,column:95},end:{line:15,column:1}},line:13},"4":{name:"(anonymous_4)",decl:{start:{line:15,column:5},end:{line:15,column:6}},loc:{start:{line:15,column:20},end:{line:17,column:1}},line:15},"5":{name:"(anonymous_5)",decl:{start:{line:18,column:50},end:{line:18,column:51}},loc:{start:{line:18,column:65},end:{line:24,column:1}},line:18},"6":{name:"(anonymous_6)",decl:{start:{line:25,column:44},end:{line:25,column:45}},loc:{start:{line:25,column:89},end:{line:33,column:1}},line:25},"7":{name:"adopt",decl:{start:{line:26,column:13},end:{line:26,column:18}},loc:{start:{line:26,column:26},end:{line:26,column:112}},line:26},"8":{name:"(anonymous_8)",decl:{start:{line:26,column:70},end:{line:26,column:71}},loc:{start:{line:26,column:89},end:{line:26,column:108}},line:26},"9":{name:"(anonymous_9)",decl:{start:{line:27,column:36},end:{line:27,column:37}},loc:{start:{line:27,column:63},end:{line:32,column:5}},line:27},"10":{name:"fulfilled",decl:{start:{line:28,column:17},end:{line:28,column:26}},loc:{start:{line:28,column:34},end:{line:28,column:99}},line:28},"11":{name:"rejected",decl:{start:{line:29,column:17},end:{line:29,column:25}},loc:{start:{line:29,column:33},end:{line:29,column:102}},line:29},"12":{name:"step",decl:{start:{line:30,column:17},end:{line:30,column:21}},loc:{start:{line:30,column:30},end:{line:30,column:118}},line:30},"13":{name:"(anonymous_13)",decl:{start:{line:34,column:48},end:{line:34,column:49}},loc:{start:{line:34,column:73},end:{line:60,column:1}},line:34},"14":{name:"(anonymous_14)",decl:{start:{line:35,column:30},end:{line:35,column:31}},loc:{start:{line:35,column:41},end:{line:35,column:83}},line:35},"15":{name:"(anonymous_15)",decl:{start:{line:36,column:125},end:{line:36,column:126}},loc:{start:{line:36,column:136},end:{line:36,column:152}},line:36},"16":{name:"verb",decl:{start:{line:37,column:13},end:{line:37,column:17}},loc:{start:{line:37,column:21},end:{line:37,column:70}},line:37},"17":{name:"(anonymous_17)",decl:{start:{line:37,column:30},end:{line:37,column:31}},loc:{start:{line:37,column:43},end:{line:37,column:67}},line:37},"18":{name:"step",decl:{start:{line:38,column:13},end:{line:38,column:17}},loc:{start:{line:38,column:22},end:{line:59,column:5}},line:38},"19":{name:"(anonymous_19)",decl:{start:{line:61,column:56},end:{line:61,column:57}},loc:{start:{line:61,column:71},end:{line:63,column:1}},line:61},"20":{name:"authenticateFromDB",decl:{start:{line:74,column:9},end:{line:74,column:27}},loc:{start:{line:74,column:35},end:{line:94,column:1}},line:74},"21":{name:"(anonymous_21)",decl:{start:{line:75,column:43},end:{line:75,column:44}},loc:{start:{line:75,column:55},end:{line:93,column:5}},line:75},"22":{name:"(anonymous_22)",decl:{start:{line:77,column:33},end:{line:77,column:34}},loc:{start:{line:77,column:47},end:{line:92,column:9}},line:77},"23":{name:"authRegisterCompany",decl:{start:{line:95,column:9},end:{line:95,column:28}},loc:{start:{line:95,column:75},end:{line:143,column:1}},line:95},"24":{name:"(anonymous_24)",decl:{start:{line:96,column:43},end:{line:96,column:44}},loc:{start:{line:96,column:55},end:{line:142,column:5}},line:96},"25":{name:"(anonymous_25)",decl:{start:{line:98,column:33},end:{line:98,column:34}},loc:{start:{line:98,column:47},end:{line:141,column:9}},line:98},"26":{name:"authRegister",decl:{start:{line:145,column:9},end:{line:145,column:21}},loc:{start:{line:145,column:57},end:{line:212,column:1}},line:145},"27":{name:"(anonymous_27)",decl:{start:{line:146,column:43},end:{line:146,column:44}},loc:{start:{line:146,column:55},end:{line:211,column:5}},line:146},"28":{name:"(anonymous_28)",decl:{start:{line:148,column:33},end:{line:148,column:34}},loc:{start:{line:148,column:47},end:{line:210,column:9}},line:148},"29":{name:"authLogin",decl:{start:{line:214,column:9},end:{line:214,column:18}},loc:{start:{line:214,column:36},end:{line:256,column:1}},line:214},"30":{name:"(anonymous_30)",decl:{start:{line:215,column:43},end:{line:215,column:44}},loc:{start:{line:215,column:55},end:{line:255,column:5}},line:215},"31":{name:"(anonymous_31)",decl:{start:{line:217,column:33},end:{line:217,column:34}},loc:{start:{line:217,column:47},end:{line:254,column:9}},line:217},"32":{name:"authLogout",decl:{start:{line:258,column:9},end:{line:258,column:19}},loc:{start:{line:258,column:27},end:{line:283,column:1}},line:258},"33":{name:"(anonymous_33)",decl:{start:{line:259,column:43},end:{line:259,column:44}},loc:{start:{line:259,column:55},end:{line:282,column:5}},line:259},"34":{name:"(anonymous_34)",decl:{start:{line:261,column:33},end:{line:261,column:34}},loc:{start:{line:261,column:47},end:{line:281,column:9}},line:261},"35":{name:"(anonymous_35)",decl:{start:{line:273,column:65},end:{line:273,column:66}},loc:{start:{line:273,column:78},end:{line:273,column:101}},line:273}},branchMap:{"0":{loc:{start:{line:2,column:22},end:{line:12,column:3}},type:"binary-expr",locations:[{start:{line:2,column:23},end:{line:2,column:27}},{start:{line:2,column:31},end:{line:2,column:51}},{start:{line:2,column:57},end:{line:12,column:2}}],line:2},"1":{loc:{start:{line:2,column:57},end:{line:12,column:2}},type:"cond-expr",locations:[{start:{line:2,column:74},end:{line:9,column:1}},{start:{line:9,column:6},end:{line:12,column:1}}],line:2},"2":{loc:{start:{line:3,column:4},end:{line:3,column:33}},type:"if",locations:[{start:{line:3,column:4},end:{line:3,column:33}},{start:{line:3,column:4},end:{line:3,column:33}}],line:3},"3":{loc:{start:{line:5,column:4},end:{line:7,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:7,column:5}},{start:{line:5,column:4},end:{line:7,column:5}}],line:5},"4":{loc:{start:{line:5,column:8},end:{line:5,column:85}},type:"binary-expr",locations:[{start:{line:5,column:8},end:{line:5,column:13}},{start:{line:5,column:18},end:{line:5,column:84}}],line:5},"5":{loc:{start:{line:5,column:18},end:{line:5,column:84}},type:"cond-expr",locations:[{start:{line:5,column:34},end:{line:5,column:47}},{start:{line:5,column:50},end:{line:5,column:84}}],line:5},"6":{loc:{start:{line:5,column:50},end:{line:5,column:84}},type:"binary-expr",locations:[{start:{line:5,column:50},end:{line:5,column:63}},{start:{line:5,column:67},end:{line:5,column:84}}],line:5},"7":{loc:{start:{line:10,column:4},end:{line:10,column:33}},type:"if",locations:[{start:{line:10,column:4},end:{line:10,column:33}},{start:{line:10,column:4},end:{line:10,column:33}}],line:10},"8":{loc:{start:{line:13,column:25},end:{line:17,column:2}},type:"binary-expr",locations:[{start:{line:13,column:26},end:{line:13,column:30}},{start:{line:13,column:34},end:{line:13,column:57}},{start:{line:13,column:63},end:{line:17,column:1}}],line:13},"9":{loc:{start:{line:13,column:63},end:{line:17,column:1}},type:"cond-expr",locations:[{start:{line:13,column:80},end:{line:15,column:1}},{start:{line:15,column:5},end:{line:17,column:1}}],line:13},"10":{loc:{start:{line:18,column:19},end:{line:24,column:1}},type:"binary-expr",locations:[{start:{line:18,column:20},end:{line:18,column:24}},{start:{line:18,column:28},end:{line:18,column:45}},{start:{line:18,column:50},end:{line:24,column:1}}],line:18},"11":{loc:{start:{line:19,column:4},end:{line:19,column:42}},type:"if",locations:[{start:{line:19,column:4},end:{line:19,column:42}},{start:{line:19,column:4},end:{line:19,column:42}}],line:19},"12":{loc:{start:{line:19,column:8},end:{line:19,column:29}},type:"binary-expr",locations:[{start:{line:19,column:8},end:{line:19,column:11}},{start:{line:19,column:15},end:{line:19,column:29}}],line:19},"13":{loc:{start:{line:21,column:4},end:{line:21,column:141}},type:"if",locations:[{start:{line:21,column:4},end:{line:21,column:141}},{start:{line:21,column:4},end:{line:21,column:141}}],line:21},"14":{loc:{start:{line:21,column:40},end:{line:21,column:141}},type:"if",locations:[{start:{line:21,column:40},end:{line:21,column:141}},{start:{line:21,column:40},end:{line:21,column:141}}],line:21},"15":{loc:{start:{line:21,column:44},end:{line:21,column:107}},type:"binary-expr",locations:[{start:{line:21,column:44},end:{line:21,column:59}},{start:{line:21,column:63},end:{line:21,column:107}}],line:21},"16":{loc:{start:{line:25,column:16},end:{line:33,column:1}},type:"binary-expr",locations:[{start:{line:25,column:17},end:{line:25,column:21}},{start:{line:25,column:25},end:{line:25,column:39}},{start:{line:25,column:44},end:{line:33,column:1}}],line:25},"17":{loc:{start:{line:26,column:35},end:{line:26,column:109}},type:"cond-expr",locations:[{start:{line:26,column:56},end:{line:26,column:61}},{start:{line:26,column:64},end:{line:26,column:109}}],line:26},"18":{loc:{start:{line:27,column:16},end:{line:27,column:34}},type:"binary-expr",locations:[{start:{line:27,column:16},end:{line:27,column:17}},{start:{line:27,column:22},end:{line:27,column:33}}],line:27},"19":{loc:{start:{line:30,column:32},end:{line:30,column:115}},type:"cond-expr",locations:[{start:{line:30,column:46},end:{line:30,column:67}},{start:{line:30,column:70},end:{line:30,column:115}}],line:30},"20":{loc:{start:{line:31,column:51},end:{line:31,column:67}},type:"binary-expr",locations:[{start:{line:31,column:51},end:{line:31,column:61}},{start:{line:31,column:65},end:{line:31,column:67}}],line:31},"21":{loc:{start:{line:34,column:18},end:{line:60,column:1}},type:"binary-expr",locations:[{start:{line:34,column:19},end:{line:34,column:23}},{start:{line:34,column:27},end:{line:34,column:43}},{start:{line:34,column:48},end:{line:60,column:1}}],line:34},"22":{loc:{start:{line:35,column:43},end:{line:35,column:68}},type:"if",locations:[{start:{line:35,column:43},end:{line:35,column:68}},{start:{line:35,column:43},end:{line:35,column:68}}],line:35},"23":{loc:{start:{line:36,column:71},end:{line:36,column:153}},type:"binary-expr",locations:[{start:{line:36,column:71},end:{line:36,column:99}},{start:{line:36,column:104},end:{line:36,column:152}}],line:36},"24":{loc:{start:{line:39,column:8},end:{line:39,column:70}},type:"if",locations:[{start:{line:39,column:8},end:{line:39,column:70}},{start:{line:39,column:8},end:{line:39,column:70}}],line:39},"25":{loc:{start:{line:40,column:15},end:{line:40,column:45}},type:"binary-expr",locations:[{start:{line:40,column:15},end:{line:40,column:16}},{start:{line:40,column:21},end:{line:40,column:44}}],line:40},"26":{loc:{start:{line:40,column:28},end:{line:40,column:44}},type:"binary-expr",locations:[{start:{line:40,column:28},end:{line:40,column:33}},{start:{line:40,column:38},end:{line:40,column:43}}],line:40},"27":{loc:{start:{line:41,column:12},end:{line:41,column:169}},type:"if",locations:[{start:{line:41,column:12},end:{line:41,column:169}},{start:{line:41,column:12},end:{line:41,column:169}}],line:41},"28":{loc:{start:{line:41,column:23},end:{line:41,column:158}},type:"binary-expr",locations:[{start:{line:41,column:23},end:{line:41,column:24}},{start:{line:41,column:29},end:{line:41,column:125}},{start:{line:41,column:130},end:{line:41,column:158}}],line:41},"29":{loc:{start:{line:41,column:33},end:{line:41,column:125}},type:"cond-expr",locations:[{start:{line:41,column:45},end:{line:41,column:56}},{start:{line:41,column:59},end:{line:41,column:125}}],line:41},"30":{loc:{start:{line:41,column:59},end:{line:41,column:125}},type:"cond-expr",locations:[{start:{line:41,column:67},end:{line:41,column:116}},{start:{line:41,column:119},end:{line:41,column:125}}],line:41},"31":{loc:{start:{line:41,column:67},end:{line:41,column:116}},type:"binary-expr",locations:[{start:{line:41,column:67},end:{line:41,column:77}},{start:{line:41,column:82},end:{line:41,column:115}}],line:41},"32":{loc:{start:{line:41,column:82},end:{line:41,column:112}},type:"binary-expr",locations:[{start:{line:41,column:83},end:{line:41,column:98}},{start:{line:41,column:103},end:{line:41,column:112}}],line:41},"33":{loc:{start:{line:42,column:12},end:{line:42,column:52}},type:"if",locations:[{start:{line:42,column:12},end:{line:42,column:52}},{start:{line:42,column:12},end:{line:42,column:52}}],line:42},"34":{loc:{start:{line:43,column:12},end:{line:55,column:13}},type:"switch",locations:[{start:{line:44,column:16},end:{line:44,column:23}},{start:{line:44,column:24},end:{line:44,column:46}},{start:{line:45,column:16},end:{line:45,column:72}},{start:{line:46,column:16},end:{line:46,column:65}},{start:{line:47,column:16},end:{line:47,column:65}},{start:{line:48,column:16},end:{line:54,column:43}}],line:43},"35":{loc:{start:{line:49,column:20},end:{line:49,column:128}},type:"if",locations:[{start:{line:49,column:20},end:{line:49,column:128}},{start:{line:49,column:20},end:{line:49,column:128}}],line:49},"36":{loc:{start:{line:49,column:24},end:{line:49,column:106}},type:"binary-expr",locations:[{start:{line:49,column:24},end:{line:49,column:74}},{start:{line:49,column:79},end:{line:49,column:90}},{start:{line:49,column:94},end:{line:49,column:105}}],line:49},"37":{loc:{start:{line:49,column:42},end:{line:49,column:73}},type:"binary-expr",locations:[{start:{line:49,column:42},end:{line:49,column:54}},{start:{line:49,column:58},end:{line:49,column:73}}],line:49},"38":{loc:{start:{line:50,column:20},end:{line:50,column:106}},type:"if",locations:[{start:{line:50,column:20},end:{line:50,column:106}},{start:{line:50,column:20},end:{line:50,column:106}}],line:50},"39":{loc:{start:{line:50,column:24},end:{line:50,column:77}},type:"binary-expr",locations:[{start:{line:50,column:24},end:{line:50,column:35}},{start:{line:50,column:40},end:{line:50,column:42}},{start:{line:50,column:47},end:{line:50,column:59}},{start:{line:50,column:63},end:{line:50,column:75}}],line:50},"40":{loc:{start:{line:51,column:20},end:{line:51,column:89}},type:"if",locations:[{start:{line:51,column:20},end:{line:51,column:89}},{start:{line:51,column:20},end:{line:51,column:89}}],line:51},"41":{loc:{start:{line:51,column:24},end:{line:51,column:53}},type:"binary-expr",locations:[{start:{line:51,column:24},end:{line:51,column:35}},{start:{line:51,column:39},end:{line:51,column:53}}],line:51},"42":{loc:{start:{line:52,column:20},end:{line:52,column:87}},type:"if",locations:[{start:{line:52,column:20},end:{line:52,column:87}},{start:{line:52,column:20},end:{line:52,column:87}}],line:52},"43":{loc:{start:{line:52,column:24},end:{line:52,column:43}},type:"binary-expr",locations:[{start:{line:52,column:24},end:{line:52,column:25}},{start:{line:52,column:29},end:{line:52,column:43}}],line:52},"44":{loc:{start:{line:53,column:20},end:{line:53,column:42}},type:"if",locations:[{start:{line:53,column:20},end:{line:53,column:42}},{start:{line:53,column:20},end:{line:53,column:42}}],line:53},"45":{loc:{start:{line:58,column:8},end:{line:58,column:35}},type:"if",locations:[{start:{line:58,column:8},end:{line:58,column:35}},{start:{line:58,column:8},end:{line:58,column:35}}],line:58},"46":{loc:{start:{line:58,column:52},end:{line:58,column:74}},type:"cond-expr",locations:[{start:{line:58,column:60},end:{line:58,column:65}},{start:{line:58,column:68},end:{line:58,column:74}}],line:58},"47":{loc:{start:{line:61,column:22},end:{line:63,column:1}},type:"binary-expr",locations:[{start:{line:61,column:23},end:{line:61,column:27}},{start:{line:61,column:31},end:{line:61,column:51}},{start:{line:61,column:56},end:{line:63,column:1}}],line:61},"48":{loc:{start:{line:62,column:11},end:{line:62,column:61}},type:"cond-expr",locations:[{start:{line:62,column:37},end:{line:62,column:40}},{start:{line:62,column:43},end:{line:62,column:61}}],line:62},"49":{loc:{start:{line:62,column:12},end:{line:62,column:33}},type:"binary-expr",locations:[{start:{line:62,column:12},end:{line:62,column:15}},{start:{line:62,column:19},end:{line:62,column:33}}],line:62},"50":{loc:{start:{line:78,column:12},end:{line:91,column:13}},type:"switch",locations:[{start:{line:79,column:16},end:{line:79,column:86}},{start:{line:80,column:16},end:{line:90,column:42}}],line:78},"51":{loc:{start:{line:99,column:12},end:{line:140,column:13}},type:"switch",locations:[{start:{line:100,column:16},end:{line:108,column:96}},{start:{line:109,column:16},end:{line:114,column:94}},{start:{line:115,column:16},end:{line:120,column:33}},{start:{line:121,column:16},end:{line:132,column:83}},{start:{line:133,column:16},end:{line:135,column:70}},{start:{line:136,column:16},end:{line:138,column:75}},{start:{line:139,column:16},end:{line:139,column:46}}],line:99},"52":{loc:{start:{line:102,column:20},end:{line:104,column:21}},type:"if",locations:[{start:{line:102,column:20},end:{line:104,column:21}},{start:{line:102,column:20},end:{line:104,column:21}}],line:102},"53":{loc:{start:{line:105,column:20},end:{line:107,column:21}},type:"if",locations:[{start:{line:105,column:20},end:{line:107,column:21}},{start:{line:105,column:20},end:{line:107,column:21}}],line:105},"54":{loc:{start:{line:111,column:20},end:{line:113,column:21}},type:"if",locations:[{start:{line:111,column:20},end:{line:113,column:21}},{start:{line:111,column:20},end:{line:113,column:21}}],line:111},"55":{loc:{start:{line:117,column:20},end:{line:119,column:21}},type:"if",locations:[{start:{line:117,column:20},end:{line:119,column:21}},{start:{line:117,column:20},end:{line:119,column:21}}],line:117},"56":{loc:{start:{line:149,column:12},end:{line:209,column:13}},type:"switch",locations:[{start:{line:150,column:16},end:{line:155,column:83}},{start:{line:156,column:16},end:{line:161,column:96}},{start:{line:162,column:16},end:{line:167,column:33}},{start:{line:168,column:16},end:{line:181,column:36}},{start:{line:182,column:16},end:{line:197,column:75}},{start:{line:198,column:16},end:{line:204,column:27}},{start:{line:205,column:16},end:{line:207,column:75}},{start:{line:208,column:16},end:{line:208,column:46}}],line:149},"57":{loc:{start:{line:152,column:20},end:{line:154,column:21}},type:"if",locations:[{start:{line:152,column:20},end:{line:154,column:21}},{start:{line:152,column:20},end:{line:154,column:21}}],line:152},"58":{loc:{start:{line:158,column:20},end:{line:160,column:21}},type:"if",locations:[{start:{line:158,column:20},end:{line:160,column:21}},{start:{line:158,column:20},end:{line:160,column:21}}],line:158},"59":{loc:{start:{line:164,column:20},end:{line:166,column:21}},type:"if",locations:[{start:{line:164,column:20},end:{line:166,column:21}},{start:{line:164,column:20},end:{line:166,column:21}}],line:164},"60":{loc:{start:{line:184,column:20},end:{line:186,column:21}},type:"if",locations:[{start:{line:184,column:20},end:{line:186,column:21}},{start:{line:184,column:20},end:{line:186,column:21}}],line:184},"61":{loc:{start:{line:218,column:12},end:{line:253,column:13}},type:"switch",locations:[{start:{line:219,column:16},end:{line:224,column:92}},{start:{line:225,column:16},end:{line:233,column:36}},{start:{line:234,column:16},end:{line:245,column:28}},{start:{line:246,column:16},end:{line:252,column:27}}],line:218},"62":{loc:{start:{line:221,column:20},end:{line:223,column:21}},type:"if",locations:[{start:{line:221,column:20},end:{line:223,column:21}},{start:{line:221,column:20},end:{line:223,column:21}}],line:221},"63":{loc:{start:{line:227,column:20},end:{line:229,column:21}},type:"if",locations:[{start:{line:227,column:20},end:{line:229,column:21}},{start:{line:227,column:20},end:{line:229,column:21}}],line:227},"64":{loc:{start:{line:262,column:12},end:{line:280,column:13}},type:"switch",locations:[{start:{line:263,column:16},end:{line:263,column:72}},{start:{line:264,column:16},end:{line:267,column:56}},{start:{line:268,column:16},end:{line:275,column:84}},{start:{line:276,column:16},end:{line:279,column:88}}],line:262},"65":{loc:{start:{line:270,column:20},end:{line:272,column:21}},type:"if",locations:[{start:{line:270,column:20},end:{line:272,column:21}},{start:{line:270,column:20},end:{line:272,column:21}}],line:270}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},b:{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0,0,0,0,0],"35":[0,0],"36":[0,0,0],"37":[0,0],"38":[0,0],"39":[0,0,0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0,0,0,0,0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0,0,0,0,0,0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0,0,0],"62":[0,0],"63":[0,0],"64":[0,0,0,0],"65":[0,0]},inputSourceMap:{version:3,file:"/Users/yusramahomed/Desktop/seng2021--/se2021-23t1-einvoicing-api-h10a_CHEESECAKE-storage-api/src/functions/auth.ts",sources:["/Users/yusramahomed/Desktop/seng2021--/se2021-23t1-einvoicing-api-h10a_CHEESECAKE-storage-api/src/functions/auth.ts"],names:[],mappings:"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",sourcesContent:["import { db } from \"../config/firebase\";\n\nimport {\n  queryLoginValid,\n  queryUserByEmail\n} from \"../service/UserTable\";\nimport {\n  queryCompanyExists,\n  queryCompanyByEmail,\n  queryUserByCompanyKey,\n} from \"../service/CompanyTable\";\nimport * as EmailValidator from \"email-validator\";\nimport HTTPError from \"http-errors\";\nimport bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport { nanoid } from \"nanoid\";\nimport { emit } from \"process\";\n\nasync function authenticateFromDB(token: string) {\n  // connect to db\n  const data = await db.collection(\"users\").get();\n  try {\n    const decodedToken = jwt.verify(token, \"cheesecake\") as jwt.JwtPayload;\n    // return a user id\n    return decodedToken.userId;\n  } catch {\n    throw HTTPError(401, \"Unauthorized: invalid token\");\n  }\n}\n\nasync function authRegisterCompany(\n  companyName: string,\n  companyEmail: string,\n  numEmployees: number,\n  ABN: number\n) {\n  // invalid email\n  if (!EmailValidator.validate(companyEmail)) {\n    throw HTTPError(400, \"Bad request: Email is invalid\");\n  }\n\n  if (ABN.toString().length !== 11) {\n    throw HTTPError(400, \"Bad request: ABN invalid\");\n  }\n  \n  // check if company email already exists\n  const companyEmailExists = await queryCompanyByEmail(companyEmail);\n  if (companyEmailExists) {\n    throw HTTPError(409, \"Company email is already registered\");\n  }\n\n  // check if company already exists\n  const exists = await queryCompanyExists(companyName);\n  if (exists) {\n    throw HTTPError(409, \"Company is already registered.\");\n  }\n\n  try {\n    const company = db.collection(\"companies\");\n\n    // not secure but helpful for early testing\n    const companyKey = nanoid();\n\n    const newCompany = {\n      companyName: companyName,\n      companyEmail: companyEmail,\n      companyKey: companyKey,\n      numEmployees: numEmployees,\n      ABN: ABN,\n    };\n\n    await company.doc(companyName).set(newCompany);\n    return { companyKey: companyKey };\n  } catch (error) {\n    throw HTTPError(500, error.message);\n  }\n}\n\nasync function authRegister(\n  email: string,\n  password: string,\n  name: string,\n  companyKey: string\n) {\n  // invalid email\n  if (!EmailValidator.validate(email)) {\n    throw HTTPError(400, \"Bad request: Email is invalid.\");\n  }\n\n  //  check if email already exists\n  const emailAlreadyExists = await queryUserByEmail(email);\n  if (emailAlreadyExists) {\n    throw HTTPError(409, \"Email is already registered.\");\n  }\n\n  // invalid companyKey\n  const companyKeyExists = await queryUserByCompanyKey(companyKey);\n  if (!companyKeyExists) {\n    throw HTTPError(404, \"Company key does not exist\");\n  }\n\n  try {\n    const user = db.collection(\"users\");\n    const userId = nanoid();\n    // password encryption\n    const saltRounds = 10;\n    const salt = bcrypt.genSaltSync(saltRounds);\n    const hash = bcrypt.hashSync(password, salt);\n\n    // tokens\n    const token = jwt.sign({ userId: userId }, \"cheesecake\", {\n      expiresIn: \"1d\",\n    });\n\n    //find companyName based on company key \n    const querySnapshot = await db\n      .collection(\"companies\")\n      .where(\"companyKey\", \"==\", companyKey)\n      .get();\n    if (querySnapshot.empty) {\n      throw HTTPError(404, \"Company key does not exist\");\n    }\n    const companyData = querySnapshot.docs[0].data();\n\n    const userObject = {\n      userId,\n      email,\n      hash,\n      name,\n      \"companyName\": companyData.companyName,\n      tokens: [token],\n    };\n\n    // set in database\n    await user.doc(userId).set(userObject);\n\n    return {\n      token: token,\n      userId: userId,\n    };\n  } catch (error) {\n    throw HTTPError(500, error.message);\n  }\n}\n\nasync function authLogin(email: string, password: string) {\n\n  // invalid email\n  if (!EmailValidator.validate(email)) {\n    throw HTTPError(400, \"Email is invalid.\");\n  }\n\n  // Check is user with email exists\n  if (!await queryLoginValid(email, password)) {\n    throw HTTPError(401, \"User with this email does not exist or password is incorrect\");\n  }\n\n  // Get userData\n  const querySnapshot = await db\n    .collection(\"users\")\n    .where(\"email\", \"==\", email)\n    .get();\n  const userData = querySnapshot.docs[0].data();\n\n  //Generate token\n  const token = jwt.sign({ userId: userData.userId }, \"cheesecake\", {\n    expiresIn: \"1d\",\n  });\n\n  // Append new token to the existing token array\n  userData.tokens.push(token);\n\n  // Update user document in Firebase\n  await db.collection(\"users\").doc(userData.userId).update({\n    tokens: userData.tokens,\n  });\n\n  return {\n    token: token,\n    userId: userData.userId,\n  };\n}\n\nasync function authLogout(token: string) {\n  //Authenticate token\n  const userId = await authenticateFromDB(token);\n  // find user in db\n  const userRef = db.collection(\"users\").doc(userId);\n  const userDoc = await userRef.get();\n  if (!userDoc.exists) {\n    throw HTTPError(403, \"Invalid token.\");\n  }\n\n  // remove token from user object for that particular user\n  const updatedTokens = userDoc.data().tokens.filter((t: any) => t !== token);\n\n  // update user object in db\n  await userRef.update({ tokens: updatedTokens });\n\n  return {\"message\": \"User logged out succesfully\"}\n}\n\nexport { authRegister, authLogin, authLogout, authRegisterCompany };\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6087d934cd92167ec653c0d8d5f7cff7efc61ed7"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_22j4khjrkt=function(){return actualCoverage;};}return actualCoverage;}cov_22j4khjrkt();var __createBinding=(cov_22j4khjrkt().s[0]++,(cov_22j4khjrkt().b[0][0]++,this)&&(cov_22j4khjrkt().b[0][1]++,this.__createBinding)||(cov_22j4khjrkt().b[0][2]++,Object.create?(cov_22j4khjrkt().b[1][0]++,function(o,m,k,k2){cov_22j4khjrkt().f[0]++;cov_22j4khjrkt().s[1]++;if(k2===undefined){cov_22j4khjrkt().b[2][0]++;cov_22j4khjrkt().s[2]++;k2=k;}else{cov_22j4khjrkt().b[2][1]++;}var desc=(cov_22j4khjrkt().s[3]++,Object.getOwnPropertyDescriptor(m,k));cov_22j4khjrkt().s[4]++;if((cov_22j4khjrkt().b[4][0]++,!desc)||(cov_22j4khjrkt().b[4][1]++,"get"in desc?(cov_22j4khjrkt().b[5][0]++,!m.__esModule):(cov_22j4khjrkt().b[5][1]++,(cov_22j4khjrkt().b[6][0]++,desc.writable)||(cov_22j4khjrkt().b[6][1]++,desc.configurable)))){cov_22j4khjrkt().b[3][0]++;cov_22j4khjrkt().s[5]++;desc={enumerable:true,get:function(){cov_22j4khjrkt().f[1]++;cov_22j4khjrkt().s[6]++;return m[k];}};}else{cov_22j4khjrkt().b[3][1]++;}cov_22j4khjrkt().s[7]++;Object.defineProperty(o,k2,desc);}):(cov_22j4khjrkt().b[1][1]++,function(o,m,k,k2){cov_22j4khjrkt().f[2]++;cov_22j4khjrkt().s[8]++;if(k2===undefined){cov_22j4khjrkt().b[7][0]++;cov_22j4khjrkt().s[9]++;k2=k;}else{cov_22j4khjrkt().b[7][1]++;}cov_22j4khjrkt().s[10]++;o[k2]=m[k];})));var __setModuleDefault=(cov_22j4khjrkt().s[11]++,(cov_22j4khjrkt().b[8][0]++,this)&&(cov_22j4khjrkt().b[8][1]++,this.__setModuleDefault)||(cov_22j4khjrkt().b[8][2]++,Object.create?(cov_22j4khjrkt().b[9][0]++,function(o,v){cov_22j4khjrkt().f[3]++;cov_22j4khjrkt().s[12]++;Object.defineProperty(o,"default",{enumerable:true,value:v});}):(cov_22j4khjrkt().b[9][1]++,function(o,v){cov_22j4khjrkt().f[4]++;cov_22j4khjrkt().s[13]++;o["default"]=v;})));var __importStar=(cov_22j4khjrkt().s[14]++,(cov_22j4khjrkt().b[10][0]++,this)&&(cov_22j4khjrkt().b[10][1]++,this.__importStar)||(cov_22j4khjrkt().b[10][2]++,function(mod){cov_22j4khjrkt().f[5]++;cov_22j4khjrkt().s[15]++;if((cov_22j4khjrkt().b[12][0]++,mod)&&(cov_22j4khjrkt().b[12][1]++,mod.__esModule)){cov_22j4khjrkt().b[11][0]++;cov_22j4khjrkt().s[16]++;return mod;}else{cov_22j4khjrkt().b[11][1]++;}var result=(cov_22j4khjrkt().s[17]++,{});cov_22j4khjrkt().s[18]++;if(mod!=null){cov_22j4khjrkt().b[13][0]++;cov_22j4khjrkt().s[19]++;for(var k in mod){cov_22j4khjrkt().s[20]++;if((cov_22j4khjrkt().b[15][0]++,k!=="default")&&(cov_22j4khjrkt().b[15][1]++,Object.prototype.hasOwnProperty.call(mod,k))){cov_22j4khjrkt().b[14][0]++;cov_22j4khjrkt().s[21]++;__createBinding(result,mod,k);}else{cov_22j4khjrkt().b[14][1]++;}}}else{cov_22j4khjrkt().b[13][1]++;}cov_22j4khjrkt().s[22]++;__setModuleDefault(result,mod);cov_22j4khjrkt().s[23]++;return result;}));var __awaiter=(cov_22j4khjrkt().s[24]++,(cov_22j4khjrkt().b[16][0]++,this)&&(cov_22j4khjrkt().b[16][1]++,this.__awaiter)||(cov_22j4khjrkt().b[16][2]++,function(thisArg,_arguments,P,generator){cov_22j4khjrkt().f[6]++;function adopt(value){cov_22j4khjrkt().f[7]++;cov_22j4khjrkt().s[25]++;return value instanceof P?(cov_22j4khjrkt().b[17][0]++,value):(cov_22j4khjrkt().b[17][1]++,new P(function(resolve){cov_22j4khjrkt().f[8]++;cov_22j4khjrkt().s[26]++;resolve(value);}));}cov_22j4khjrkt().s[27]++;return new((cov_22j4khjrkt().b[18][0]++,P)||(cov_22j4khjrkt().b[18][1]++,P=Promise))(function(resolve,reject){cov_22j4khjrkt().f[9]++;function fulfilled(value){cov_22j4khjrkt().f[10]++;cov_22j4khjrkt().s[28]++;try{cov_22j4khjrkt().s[29]++;step(generator.next(value));}catch(e){cov_22j4khjrkt().s[30]++;reject(e);}}function rejected(value){cov_22j4khjrkt().f[11]++;cov_22j4khjrkt().s[31]++;try{cov_22j4khjrkt().s[32]++;step(generator["throw"](value));}catch(e){cov_22j4khjrkt().s[33]++;reject(e);}}function step(result){cov_22j4khjrkt().f[12]++;cov_22j4khjrkt().s[34]++;result.done?(cov_22j4khjrkt().b[19][0]++,resolve(result.value)):(cov_22j4khjrkt().b[19][1]++,adopt(result.value).then(fulfilled,rejected));}cov_22j4khjrkt().s[35]++;step((generator=generator.apply(thisArg,(cov_22j4khjrkt().b[20][0]++,_arguments)||(cov_22j4khjrkt().b[20][1]++,[]))).next());});}));var __generator=(cov_22j4khjrkt().s[36]++,(cov_22j4khjrkt().b[21][0]++,this)&&(cov_22j4khjrkt().b[21][1]++,this.__generator)||(cov_22j4khjrkt().b[21][2]++,function(thisArg,body){cov_22j4khjrkt().f[13]++;var _=(cov_22j4khjrkt().s[37]++,{label:0,sent:function(){cov_22j4khjrkt().f[14]++;cov_22j4khjrkt().s[38]++;if(t[0]&1){cov_22j4khjrkt().b[22][0]++;cov_22j4khjrkt().s[39]++;throw t[1];}else{cov_22j4khjrkt().b[22][1]++;}cov_22j4khjrkt().s[40]++;return t[1];},trys:[],ops:[]}),f,y,t,g;cov_22j4khjrkt().s[41]++;return g={next:verb(0),"throw":verb(1),"return":verb(2)},(cov_22j4khjrkt().b[23][0]++,typeof Symbol==="function")&&(cov_22j4khjrkt().b[23][1]++,g[Symbol.iterator]=function(){cov_22j4khjrkt().f[15]++;cov_22j4khjrkt().s[42]++;return this;}),g;function verb(n){cov_22j4khjrkt().f[16]++;cov_22j4khjrkt().s[43]++;return function(v){cov_22j4khjrkt().f[17]++;cov_22j4khjrkt().s[44]++;return step([n,v]);};}function step(op){cov_22j4khjrkt().f[18]++;cov_22j4khjrkt().s[45]++;if(f){cov_22j4khjrkt().b[24][0]++;cov_22j4khjrkt().s[46]++;throw new TypeError("Generator is already executing.");}else{cov_22j4khjrkt().b[24][1]++;}cov_22j4khjrkt().s[47]++;while((cov_22j4khjrkt().b[25][0]++,g)&&(cov_22j4khjrkt().b[25][1]++,(g=0,(cov_22j4khjrkt().b[26][0]++,op[0])&&(cov_22j4khjrkt().b[26][1]++,_=0))),_){cov_22j4khjrkt().s[48]++;try{cov_22j4khjrkt().s[49]++;if(f=1,(cov_22j4khjrkt().b[28][0]++,y)&&(cov_22j4khjrkt().b[28][1]++,t=op[0]&2?(cov_22j4khjrkt().b[29][0]++,y["return"]):(cov_22j4khjrkt().b[29][1]++,op[0]?(cov_22j4khjrkt().b[30][0]++,(cov_22j4khjrkt().b[31][0]++,y["throw"])||(cov_22j4khjrkt().b[31][1]++,((cov_22j4khjrkt().b[32][0]++,t=y["return"])&&(cov_22j4khjrkt().b[32][1]++,t.call(y)),0))):(cov_22j4khjrkt().b[30][1]++,y.next)))&&(cov_22j4khjrkt().b[28][2]++,!(t=t.call(y,op[1])).done)){cov_22j4khjrkt().b[27][0]++;cov_22j4khjrkt().s[50]++;return t;}else{cov_22j4khjrkt().b[27][1]++;}cov_22j4khjrkt().s[51]++;if(y=0,t){cov_22j4khjrkt().b[33][0]++;cov_22j4khjrkt().s[52]++;op=[op[0]&2,t.value];}else{cov_22j4khjrkt().b[33][1]++;}cov_22j4khjrkt().s[53]++;switch(op[0]){case 0:cov_22j4khjrkt().b[34][0]++;case 1:cov_22j4khjrkt().b[34][1]++;cov_22j4khjrkt().s[54]++;t=op;cov_22j4khjrkt().s[55]++;break;case 4:cov_22j4khjrkt().b[34][2]++;cov_22j4khjrkt().s[56]++;_.label++;cov_22j4khjrkt().s[57]++;return{value:op[1],done:false};case 5:cov_22j4khjrkt().b[34][3]++;cov_22j4khjrkt().s[58]++;_.label++;cov_22j4khjrkt().s[59]++;y=op[1];cov_22j4khjrkt().s[60]++;op=[0];cov_22j4khjrkt().s[61]++;continue;case 7:cov_22j4khjrkt().b[34][4]++;cov_22j4khjrkt().s[62]++;op=_.ops.pop();cov_22j4khjrkt().s[63]++;_.trys.pop();cov_22j4khjrkt().s[64]++;continue;default:cov_22j4khjrkt().b[34][5]++;cov_22j4khjrkt().s[65]++;if((cov_22j4khjrkt().b[36][0]++,!(t=_.trys,t=(cov_22j4khjrkt().b[37][0]++,t.length>0)&&(cov_22j4khjrkt().b[37][1]++,t[t.length-1])))&&((cov_22j4khjrkt().b[36][1]++,op[0]===6)||(cov_22j4khjrkt().b[36][2]++,op[0]===2))){cov_22j4khjrkt().b[35][0]++;cov_22j4khjrkt().s[66]++;_=0;cov_22j4khjrkt().s[67]++;continue;}else{cov_22j4khjrkt().b[35][1]++;}cov_22j4khjrkt().s[68]++;if((cov_22j4khjrkt().b[39][0]++,op[0]===3)&&((cov_22j4khjrkt().b[39][1]++,!t)||(cov_22j4khjrkt().b[39][2]++,op[1]>t[0])&&(cov_22j4khjrkt().b[39][3]++,op[1]<t[3]))){cov_22j4khjrkt().b[38][0]++;cov_22j4khjrkt().s[69]++;_.label=op[1];cov_22j4khjrkt().s[70]++;break;}else{cov_22j4khjrkt().b[38][1]++;}cov_22j4khjrkt().s[71]++;if((cov_22j4khjrkt().b[41][0]++,op[0]===6)&&(cov_22j4khjrkt().b[41][1]++,_.label<t[1])){cov_22j4khjrkt().b[40][0]++;cov_22j4khjrkt().s[72]++;_.label=t[1];cov_22j4khjrkt().s[73]++;t=op;cov_22j4khjrkt().s[74]++;break;}else{cov_22j4khjrkt().b[40][1]++;}cov_22j4khjrkt().s[75]++;if((cov_22j4khjrkt().b[43][0]++,t)&&(cov_22j4khjrkt().b[43][1]++,_.label<t[2])){cov_22j4khjrkt().b[42][0]++;cov_22j4khjrkt().s[76]++;_.label=t[2];cov_22j4khjrkt().s[77]++;_.ops.push(op);cov_22j4khjrkt().s[78]++;break;}else{cov_22j4khjrkt().b[42][1]++;}cov_22j4khjrkt().s[79]++;if(t[2]){cov_22j4khjrkt().b[44][0]++;cov_22j4khjrkt().s[80]++;_.ops.pop();}else{cov_22j4khjrkt().b[44][1]++;}cov_22j4khjrkt().s[81]++;_.trys.pop();cov_22j4khjrkt().s[82]++;continue;}cov_22j4khjrkt().s[83]++;op=body.call(thisArg,_);}catch(e){cov_22j4khjrkt().s[84]++;op=[6,e];cov_22j4khjrkt().s[85]++;y=0;}finally{cov_22j4khjrkt().s[86]++;f=t=0;}}cov_22j4khjrkt().s[87]++;if(op[0]&5){cov_22j4khjrkt().b[45][0]++;cov_22j4khjrkt().s[88]++;throw op[1];}else{cov_22j4khjrkt().b[45][1]++;}cov_22j4khjrkt().s[89]++;return{value:op[0]?(cov_22j4khjrkt().b[46][0]++,op[1]):(cov_22j4khjrkt().b[46][1]++,void 0),done:true};}}));var __importDefault=(cov_22j4khjrkt().s[90]++,(cov_22j4khjrkt().b[47][0]++,this)&&(cov_22j4khjrkt().b[47][1]++,this.__importDefault)||(cov_22j4khjrkt().b[47][2]++,function(mod){cov_22j4khjrkt().f[19]++;cov_22j4khjrkt().s[91]++;return(cov_22j4khjrkt().b[49][0]++,mod)&&(cov_22j4khjrkt().b[49][1]++,mod.__esModule)?(cov_22j4khjrkt().b[48][0]++,mod):(cov_22j4khjrkt().b[48][1]++,{"default":mod});}));cov_22j4khjrkt().s[92]++;Object.defineProperty(exports,"__esModule",{value:true});cov_22j4khjrkt().s[93]++;exports.authRegisterCompany=exports.authLogout=exports.authLogin=exports.authRegister=void 0;var firebase_1=(cov_22j4khjrkt().s[94]++,require("../config/firebase"));var UserTable_1=(cov_22j4khjrkt().s[95]++,require("../service/UserTable"));var CompanyTable_1=(cov_22j4khjrkt().s[96]++,require("../service/CompanyTable"));var EmailValidator=(cov_22j4khjrkt().s[97]++,__importStar(require("email-validator")));var http_errors_1=(cov_22j4khjrkt().s[98]++,__importDefault(require("http-errors")));var bcrypt_1=(cov_22j4khjrkt().s[99]++,__importDefault(require("bcrypt")));var jsonwebtoken_1=(cov_22j4khjrkt().s[100]++,__importDefault(require("jsonwebtoken")));var nanoid_1=(cov_22j4khjrkt().s[101]++,require("nanoid"));function authenticateFromDB(token){cov_22j4khjrkt().f[20]++;cov_22j4khjrkt().s[102]++;return __awaiter(this,void 0,void 0,function(){cov_22j4khjrkt().f[21]++;var data,decodedToken;cov_22j4khjrkt().s[103]++;return __generator(this,function(_a){cov_22j4khjrkt().f[22]++;cov_22j4khjrkt().s[104]++;switch(_a.label){case 0:cov_22j4khjrkt().b[50][0]++;cov_22j4khjrkt().s[105]++;return[4/*yield*/,firebase_1.db.collection("users").get()];case 1:cov_22j4khjrkt().b[50][1]++;cov_22j4khjrkt().s[106]++;data=_a.sent();cov_22j4khjrkt().s[107]++;try{cov_22j4khjrkt().s[108]++;decodedToken=jsonwebtoken_1.default.verify(token,"cheesecake");// return a user id
cov_22j4khjrkt().s[109]++;return[2/*return*/,decodedToken.userId];}catch(_b){cov_22j4khjrkt().s[110]++;throw(0,http_errors_1.default)(401,"Unauthorized: invalid token");}cov_22j4khjrkt().s[111]++;return[2/*return*/];}});});}function authRegisterCompany(companyName,companyEmail,numEmployees,ABN){cov_22j4khjrkt().f[23]++;cov_22j4khjrkt().s[112]++;return __awaiter(this,void 0,void 0,function(){cov_22j4khjrkt().f[24]++;var companyEmailExists,exists,company,companyKey,newCompany,error_1;cov_22j4khjrkt().s[113]++;return __generator(this,function(_a){cov_22j4khjrkt().f[25]++;cov_22j4khjrkt().s[114]++;switch(_a.label){case 0:cov_22j4khjrkt().b[51][0]++;cov_22j4khjrkt().s[115]++;// invalid email
if(!EmailValidator.validate(companyEmail)){cov_22j4khjrkt().b[52][0]++;cov_22j4khjrkt().s[116]++;throw(0,http_errors_1.default)(400,"Bad request: Email is invalid");}else{cov_22j4khjrkt().b[52][1]++;}cov_22j4khjrkt().s[117]++;if(ABN.toString().length!==11){cov_22j4khjrkt().b[53][0]++;cov_22j4khjrkt().s[118]++;throw(0,http_errors_1.default)(400,"Bad request: ABN invalid");}else{cov_22j4khjrkt().b[53][1]++;}cov_22j4khjrkt().s[119]++;return[4/*yield*/,(0,CompanyTable_1.queryCompanyByEmail)(companyEmail)];case 1:cov_22j4khjrkt().b[51][1]++;cov_22j4khjrkt().s[120]++;companyEmailExists=_a.sent();cov_22j4khjrkt().s[121]++;if(companyEmailExists){cov_22j4khjrkt().b[54][0]++;cov_22j4khjrkt().s[122]++;throw(0,http_errors_1.default)(409,"Company email is already registered");}else{cov_22j4khjrkt().b[54][1]++;}cov_22j4khjrkt().s[123]++;return[4/*yield*/,(0,CompanyTable_1.queryCompanyExists)(companyName)];case 2:cov_22j4khjrkt().b[51][2]++;cov_22j4khjrkt().s[124]++;exists=_a.sent();cov_22j4khjrkt().s[125]++;if(exists){cov_22j4khjrkt().b[55][0]++;cov_22j4khjrkt().s[126]++;throw(0,http_errors_1.default)(409,"Company is already registered.");}else{cov_22j4khjrkt().b[55][1]++;}cov_22j4khjrkt().s[127]++;_a.label=3;case 3:cov_22j4khjrkt().b[51][3]++;cov_22j4khjrkt().s[128]++;_a.trys.push([3,5,,6]);cov_22j4khjrkt().s[129]++;company=firebase_1.db.collection("companies");cov_22j4khjrkt().s[130]++;companyKey=(0,nanoid_1.nanoid)();cov_22j4khjrkt().s[131]++;newCompany={companyName:companyName,companyEmail:companyEmail,companyKey:companyKey,numEmployees:numEmployees,ABN:ABN};cov_22j4khjrkt().s[132]++;return[4/*yield*/,company.doc(companyName).set(newCompany)];case 4:cov_22j4khjrkt().b[51][4]++;cov_22j4khjrkt().s[133]++;_a.sent();cov_22j4khjrkt().s[134]++;return[2/*return*/,{companyKey:companyKey}];case 5:cov_22j4khjrkt().b[51][5]++;cov_22j4khjrkt().s[135]++;error_1=_a.sent();cov_22j4khjrkt().s[136]++;throw(0,http_errors_1.default)(500,error_1.message);case 6:cov_22j4khjrkt().b[51][6]++;cov_22j4khjrkt().s[137]++;return[2/*return*/];}});});}cov_22j4khjrkt().s[138]++;exports.authRegisterCompany=authRegisterCompany;function authRegister(email,password,name,companyKey){cov_22j4khjrkt().f[26]++;cov_22j4khjrkt().s[139]++;return __awaiter(this,void 0,void 0,function(){cov_22j4khjrkt().f[27]++;var emailAlreadyExists,companyKeyExists,user,userId,saltRounds,salt,hash,token,querySnapshot,companyData,userObject,error_2;cov_22j4khjrkt().s[140]++;return __generator(this,function(_a){cov_22j4khjrkt().f[28]++;cov_22j4khjrkt().s[141]++;switch(_a.label){case 0:cov_22j4khjrkt().b[56][0]++;cov_22j4khjrkt().s[142]++;// invalid email
if(!EmailValidator.validate(email)){cov_22j4khjrkt().b[57][0]++;cov_22j4khjrkt().s[143]++;throw(0,http_errors_1.default)(400,"Bad request: Email is invalid.");}else{cov_22j4khjrkt().b[57][1]++;}cov_22j4khjrkt().s[144]++;return[4/*yield*/,(0,UserTable_1.queryUserByEmail)(email)];case 1:cov_22j4khjrkt().b[56][1]++;cov_22j4khjrkt().s[145]++;emailAlreadyExists=_a.sent();cov_22j4khjrkt().s[146]++;if(emailAlreadyExists){cov_22j4khjrkt().b[58][0]++;cov_22j4khjrkt().s[147]++;throw(0,http_errors_1.default)(409,"Email is already registered.");}else{cov_22j4khjrkt().b[58][1]++;}cov_22j4khjrkt().s[148]++;return[4/*yield*/,(0,CompanyTable_1.queryUserByCompanyKey)(companyKey)];case 2:cov_22j4khjrkt().b[56][2]++;cov_22j4khjrkt().s[149]++;companyKeyExists=_a.sent();cov_22j4khjrkt().s[150]++;if(!companyKeyExists){cov_22j4khjrkt().b[59][0]++;cov_22j4khjrkt().s[151]++;throw(0,http_errors_1.default)(404,"Company key does not exist");}else{cov_22j4khjrkt().b[59][1]++;}cov_22j4khjrkt().s[152]++;_a.label=3;case 3:cov_22j4khjrkt().b[56][3]++;cov_22j4khjrkt().s[153]++;_a.trys.push([3,6,,7]);cov_22j4khjrkt().s[154]++;user=firebase_1.db.collection("users");cov_22j4khjrkt().s[155]++;userId=(0,nanoid_1.nanoid)();cov_22j4khjrkt().s[156]++;saltRounds=10;cov_22j4khjrkt().s[157]++;salt=bcrypt_1.default.genSaltSync(saltRounds);cov_22j4khjrkt().s[158]++;hash=bcrypt_1.default.hashSync(password,salt);cov_22j4khjrkt().s[159]++;token=jsonwebtoken_1.default.sign({userId:userId},"cheesecake",{expiresIn:"1d"});cov_22j4khjrkt().s[160]++;return[4/*yield*/,firebase_1.db.collection("companies").where("companyKey","==",companyKey).get()];case 4:cov_22j4khjrkt().b[56][4]++;cov_22j4khjrkt().s[161]++;querySnapshot=_a.sent();cov_22j4khjrkt().s[162]++;if(querySnapshot.empty){cov_22j4khjrkt().b[60][0]++;cov_22j4khjrkt().s[163]++;throw(0,http_errors_1.default)(404,"Company key does not exist");}else{cov_22j4khjrkt().b[60][1]++;}cov_22j4khjrkt().s[164]++;companyData=querySnapshot.docs[0].data();cov_22j4khjrkt().s[165]++;userObject={userId:userId,email:email,hash:hash,name:name,"companyName":companyData.companyName,tokens:[token]};// set in database
cov_22j4khjrkt().s[166]++;return[4/*yield*/,user.doc(userId).set(userObject)];case 5:cov_22j4khjrkt().b[56][5]++;cov_22j4khjrkt().s[167]++;// set in database
_a.sent();cov_22j4khjrkt().s[168]++;return[2/*return*/,{token:token,userId:userId}];case 6:cov_22j4khjrkt().b[56][6]++;cov_22j4khjrkt().s[169]++;error_2=_a.sent();cov_22j4khjrkt().s[170]++;throw(0,http_errors_1.default)(500,error_2.message);case 7:cov_22j4khjrkt().b[56][7]++;cov_22j4khjrkt().s[171]++;return[2/*return*/];}});});}cov_22j4khjrkt().s[172]++;exports.authRegister=authRegister;function authLogin(email,password){cov_22j4khjrkt().f[29]++;cov_22j4khjrkt().s[173]++;return __awaiter(this,void 0,void 0,function(){cov_22j4khjrkt().f[30]++;var querySnapshot,userData,token;cov_22j4khjrkt().s[174]++;return __generator(this,function(_a){cov_22j4khjrkt().f[31]++;cov_22j4khjrkt().s[175]++;switch(_a.label){case 0:cov_22j4khjrkt().b[61][0]++;cov_22j4khjrkt().s[176]++;// invalid email
if(!EmailValidator.validate(email)){cov_22j4khjrkt().b[62][0]++;cov_22j4khjrkt().s[177]++;throw(0,http_errors_1.default)(400,"Email is invalid.");}else{cov_22j4khjrkt().b[62][1]++;}cov_22j4khjrkt().s[178]++;return[4/*yield*/,(0,UserTable_1.queryLoginValid)(email,password)];case 1:cov_22j4khjrkt().b[61][1]++;cov_22j4khjrkt().s[179]++;// Check is user with email exists
if(!_a.sent()){cov_22j4khjrkt().b[63][0]++;cov_22j4khjrkt().s[180]++;throw(0,http_errors_1.default)(401,"User with this email does not exist or password is incorrect");}else{cov_22j4khjrkt().b[63][1]++;}cov_22j4khjrkt().s[181]++;return[4/*yield*/,firebase_1.db.collection("users").where("email","==",email).get()];case 2:cov_22j4khjrkt().b[61][2]++;cov_22j4khjrkt().s[182]++;querySnapshot=_a.sent();cov_22j4khjrkt().s[183]++;userData=querySnapshot.docs[0].data();cov_22j4khjrkt().s[184]++;token=jsonwebtoken_1.default.sign({userId:userData.userId},"cheesecake",{expiresIn:"1d"});// Append new token to the existing token array
cov_22j4khjrkt().s[185]++;userData.tokens.push(token);// Update user document in Firebase
cov_22j4khjrkt().s[186]++;return[4/*yield*/,firebase_1.db.collection("users").doc(userData.userId).update({tokens:userData.tokens})];case 3:cov_22j4khjrkt().b[61][3]++;cov_22j4khjrkt().s[187]++;// Update user document in Firebase
_a.sent();cov_22j4khjrkt().s[188]++;return[2/*return*/,{token:token,userId:userData.userId}];}});});}cov_22j4khjrkt().s[189]++;exports.authLogin=authLogin;function authLogout(token){cov_22j4khjrkt().f[32]++;cov_22j4khjrkt().s[190]++;return __awaiter(this,void 0,void 0,function(){cov_22j4khjrkt().f[33]++;var userId,userRef,userDoc,updatedTokens;cov_22j4khjrkt().s[191]++;return __generator(this,function(_a){cov_22j4khjrkt().f[34]++;cov_22j4khjrkt().s[192]++;switch(_a.label){case 0:cov_22j4khjrkt().b[64][0]++;cov_22j4khjrkt().s[193]++;return[4/*yield*/,authenticateFromDB(token)];case 1:cov_22j4khjrkt().b[64][1]++;cov_22j4khjrkt().s[194]++;userId=_a.sent();cov_22j4khjrkt().s[195]++;userRef=firebase_1.db.collection("users").doc(userId);cov_22j4khjrkt().s[196]++;return[4/*yield*/,userRef.get()];case 2:cov_22j4khjrkt().b[64][2]++;cov_22j4khjrkt().s[197]++;userDoc=_a.sent();cov_22j4khjrkt().s[198]++;if(!userDoc.exists){cov_22j4khjrkt().b[65][0]++;cov_22j4khjrkt().s[199]++;throw(0,http_errors_1.default)(403,"Invalid token.");}else{cov_22j4khjrkt().b[65][1]++;}cov_22j4khjrkt().s[200]++;updatedTokens=userDoc.data().tokens.filter(function(t){cov_22j4khjrkt().f[35]++;cov_22j4khjrkt().s[201]++;return t!==token;});// update user object in db
cov_22j4khjrkt().s[202]++;return[4/*yield*/,userRef.update({tokens:updatedTokens})];case 3:cov_22j4khjrkt().b[64][3]++;cov_22j4khjrkt().s[203]++;// update user object in db
_a.sent();cov_22j4khjrkt().s[204]++;return[2/*return*/,{"message":"User logged out succesfully"}];}});});}cov_22j4khjrkt().s[205]++;exports.authLogout=authLogout;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3l1c3JhbWFob21lZC9EZXNrdG9wL3NlbmcyMDIxLS0vc2UyMDIxLTIzdDEtZWludm9pY2luZy1hcGktaDEwYV9DSEVFU0VDQUtFLXN0b3JhZ2UtYXBpL3NyYy9mdW5jdGlvbnMvYXV0aC50cyIsInNvdXJjZXMiOlsiL1VzZXJzL3l1c3JhbWFob21lZC9EZXNrdG9wL3NlbmcyMDIxLS0vc2UyMDIxLTIzdDEtZWludm9pY2luZy1hcGktaDEwYV9DSEVFU0VDQUtFLXN0b3JhZ2UtYXBpL3NyYy9mdW5jdGlvbnMvYXV0aC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtDQUF3QztBQUV4QyxrREFHOEI7QUFDOUIsd0RBSWlDO0FBQ2pDLDhEQUFrRDtBQUNsRCw0REFBb0M7QUFDcEMsa0RBQTRCO0FBQzVCLDhEQUErQjtBQUMvQixpQ0FBZ0M7QUFHaEMsU0FBZSxrQkFBa0IsQ0FBQyxLQUFhOzs7Ozt3QkFFaEMscUJBQU0sYUFBRSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBQTs7b0JBQXpDLElBQUksR0FBRyxTQUFrQztvQkFDL0MsSUFBSTt3QkFDSSxZQUFZLEdBQUcsc0JBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLFlBQVksQ0FBbUIsQ0FBQzt3QkFDdkUsbUJBQW1CO3dCQUNuQixzQkFBTyxZQUFZLENBQUMsTUFBTSxFQUFDO3FCQUM1QjtvQkFBQyxXQUFNO3dCQUNOLE1BQU0sSUFBQSxxQkFBUyxFQUFDLEdBQUcsRUFBRSw2QkFBNkIsQ0FBQyxDQUFDO3FCQUNyRDs7Ozs7Q0FDRjtBQUVELFNBQWUsbUJBQW1CLENBQ2hDLFdBQW1CLEVBQ25CLFlBQW9CLEVBQ3BCLFlBQW9CLEVBQ3BCLEdBQVc7Ozs7OztvQkFFWCxnQkFBZ0I7b0JBQ2hCLElBQUksQ0FBQyxjQUFjLENBQUMsUUFB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RXRCLHFCQUFNLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxFQUFBOztvQkFBeEMsTUFBTSxHQUFHLFNBQStCO29CQUV4QyxPQUFPLEdBQUcsYUFBRSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7b0JBQ25DLHFCQUFNLE9BQU8sQ0FBQyxHQUFHLEVBQUUsRUFBQTs7b0JBQTdCLE9BQU8sR0FBRyxTQUFtQjtvQkFDbkMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUU7d0JBQ25CLE1BQU0sSUFBQSxxQkFBUyxFQUFDLEdBQUcsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO3FCQUN4QztvQkFHSyxhQUFhLEdBQUcsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsVUFBQyxDQUFNLElBQUssT0FBQSxDQUFDLEtBQUssS0FBSyxFQUFYLENBQVcsQ0FBQyxDQUFDO29CQUU1RSwyQkFBMkI7b0JBQzNCLHFCQUFNLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxNQUFNLEVBQUUsYUFBYSxFQUFFLENBQUMsRUFBQTs7b0JBRC9DLDJCQUEyQjtvQkFDM0IsU0FBK0MsQ0FBQztvQkFFaEQsc0JBQU8sRUFBQyxTQUFTLEVBQUUsNkJBQTZCLEVBQUMsRUFBQTs7OztDQUNsRDtBQUVpQyxnQ0FBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRiIH0gZnJvbSBcIi4uL2NvbmZpZy9maXJlYmFzZVwiO1xuXG5pbXBvcnQge1xuICBxdWVyeUxvZ2luVmFsaWQsXG4gIHF1ZXJ5VXNlckJ5RW1haWxcbn0gZnJvbSBcIi4uL3NlcnZpY2UvVXNlclRhYmxlXCI7XG5pbXBvcnQge1xuICBxdWVyeUNvbXBhbnlFeGlzdHMsXG4gIHF1ZXJ5Q29tcGFueUJ5RW1haWwsXG4gIHF1ZXJ5VXNlckJ5Q29tcGFueUtleSxcbn0gZnJvbSBcIi4uL3NlcnZpY2UvQ29tcGFueVRhYmxlXCI7XG5pbXBvcnQgKiBhcyBFbWFpbFZhbGlkYXRvciBmcm9tIFwiZW1haWwtdmFsaWRhdG9yXCI7XG5pbXBvcnQgSFRUUEVycm9yIGZyb20gXCJodHRwLWVycm9yc1wiO1xuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XG5pbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcbmltcG9ydCB7IG5hbm9pZCB9IGZyb20gXCJuYW5vaWRcIjtcbmltcG9ydCB7IGVtaXQgfSBmcm9tIFwicHJvY2Vzc1wiO1xuXG5hc3luYyBmdW5jdGlvbiBhdXRoZW50aWNhdGVGcm9tREIodG9rZW46IHN0cmluZykge1xuICAvLyBjb25uZWN0IHRvIGRiXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKFwidXNlcnNcIikuZ2V0KCk7XG4gIHRyeSB7XG4gICAgY29uc3QgZGVjb2RlZFRva2VuID0gand0LnZlcmlmeSh0b2tlbiwgXCJjaGVlc2VjYWtlXCIpIGFzIGp3dC5Kd3RQYXlsb2FkO1xuICAgIC8vIHJldHVybiBhIHVzZXIgaWRcbiAgICByZXR1cm4gZGVjb2RlZFRva2VuLnVzZXJJZDtcbiAgfSBjYXRjaCB7XG4gICAgdGhyb3cgSFRUUEVycm9yKDQwMSwgXCJVbmF1dGhvcml6ZWQ6IGludmFsaWQgdG9rZW5cIik7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gYXV0aFJlZ2lzdGVyQ29tcGFueShcbiAgY29tcGFueU5hbWU6IHN0cmluZyxcbiAgY29tcGFueUVtYWlsOiBzdHJpbmcsXG4gIG51bUVtcGxveWVlczogbnVtYmVyLFxuICBBQk46IG51bWJlclxuKSB7XG4gIC8vIGludmFsaWQgZW1haWxcbiAgaWYgKCFFbWFpbFZhbGlkYXRvci52YWxpZGF0ZShjb21wYW55RW1haWwpKSB7XG4gICAgdGhyb3cgSFRUUEVycm9yKDQwMCwgXCJCYWQgcmVxdWVzdDogRW1haWwgaXMgaW52YWxpZFwiKTtcbiAgfVxuXG4gIGlmIChBQk4udG9TdHJpbmcoKS5sZW5ndGggIT09IDExKSB7XG4gICAgdGhyb3cgSFRUUEVycm9yKDQwMCwgXCJCYWQgcmVxdWVzdDogQUJOIGludmFsaWRcIik7XG4gIH1cbiAgXG4gIC8vIGNoZWNrIGlmIGNvbXBhbnkgZW1haWwgYWxyZWFkeSBleGlzdHNcbiAgY29uc3QgY29tcGFueUVtYWlsRXhpc3RzID0gYXdhaXQgcXVlcnlDb21wYW55QnlFbWFpbChjb21wYW55RW1haWwpO1xuICBpZiAoY29tcGFueUVtYWlsRXhpc3RzKSB7XG4gICAgdGhyb3cgSFRUUEVycm9yKDQwOSwgXCJDb21wYW55IGVtYWlsIGlzIGFscmVhZHkgcmVnaXN0ZXJlZFwiKTtcbiAgfVxuXG4gIC8vIGNoZWNrIGlmIGNvbXBhbnkgYWxyZWFkeSBleGlzdHNcbiAgY29uc3QgZXhpc3RzID0gYXdhaXQgcXVlcnlDb21wYW55RXhpc3RzKGNvbXBhbnlOYW1lKTtcbiAgaWYgKGV4aXN0cykge1xuICAgIHRocm93IEhUVFBFcnJvcig0MDksIFwiQ29tcGFueSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuXCIpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBjb21wYW55ID0gZGIuY29sbGVjdGlvbihcImNvbXBhbmllc1wiKTtcblxuICAgIC8vIG5vdCBzZWN1cmUgYnV0IGhlbHBmdWwgZm9yIGVhcmx5IHRlc3RpbmdcbiAgICBjb25zdCBjb21wYW55S2V5ID0gbmFub2lkKCk7XG5cbiAgICBjb25zdCBuZXdDb21wYW55ID0ge1xuICAgICAgY29tcGFueU5hbWU6IGNvbXBhbnlOYW1lLFxuICAgICAgY29tcGFueUVtYWlsOiBjb21wYW55RW1haWwsXG4gICAgICBjb21wYW55S2V5OiBjb21wYW55S2V5LFxuICAgICAgbnVtRW1wbG95ZWVzOiBudW1FbXBsb3llZXMsXG4gICAgICBBQk46IEFCTixcbiAgICB9O1xuXG4gICAgYXdhaXQgY29tcGFueS5kb2MoY29tcGFueU5hbWUpLnNldChuZXdDb21wYW55KTtcbiAgICByZXR1cm4geyBjb21wYW55S2V5OiBjb21wYW55S2V5IH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgSFRUUEVycm9yKDUwMCwgZXJyb3IubWVzc2FnZSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gYXV0aFJlZ2lzdGVyKFxuICBlbWFpbDogc3RyaW5nLFxuICBwYXNzd29yZDogc3RyaW5nLFxuICBuYW1lOiBzdHJpbmcsXG4gIGNvbXBhbnlLZXk6IHN0cmluZ1xuKSB7XG4gIC8vIGludmFsaWQgZW1haWxcbiAgaWYgKCFFbWFpbFZhbGlkYXRvci52YWxpZGF0ZShlbWFpbCkpIHtcbiAgICB0aHJvdyBIVFRQRXJyb3IoNDAwLCBcIkJhZCByZXF1ZXN0OiBFbWFpbCBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuXG4gIC8vICBjaGVjayBpZiBlbWFpbCBhbHJlYWR5IGV4aXN0c1xuICBjb25zdCBlbWFpbEFscmVhZHlFeGlzdHMgPSBhd2FpdCBxdWVyeVVzZXJCeUVtYWlsKGVtYWlsKTtcbiAgaWYgKGVtYWlsQWxyZWFkeUV4aXN0cykge1xuICAgIHRocm93IEhUVFBFcnJvcig0MDksIFwiRW1haWwgaXMgYWxyZWFkeSByZWdpc3RlcmVkLlwiKTtcbiAgfVxuXG4gIC8vIGludmFsaWQgY29tcGFueUtleVxuICBjb25zdCBjb21wYW55S2V5RXhpc3RzID0gYXdhaXQgcXVlcnlVc2VyQnlDb21wYW55S2V5KGNvbXBhbnlLZXkpO1xuICBpZiAoIWNvbXBhbnlLZXlFeGlzdHMpIHtcbiAgICB0aHJvdyBIVFRQRXJyb3IoNDA0LCBcIkNvbXBhbnkga2V5IGRvZXMgbm90IGV4aXN0XCIpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gZGIuY29sbGVjdGlvbihcInVzZXJzXCIpO1xuICAgIGNvbnN0IHVzZXJJZCA9IG5hbm9pZCgpO1xuICAgIC8vIHBhc3N3b3JkIGVuY3J5cHRpb25cbiAgICBjb25zdCBzYWx0Um91bmRzID0gMTA7XG4gICAgY29uc3Qgc2FsdCA9IGJjcnlwdC5nZW5TYWx0U3luYyhzYWx0Um91bmRzKTtcbiAgICBjb25zdCBoYXNoID0gYmNyeXB0Lmhhc2hTeW5jKHBhc3N3b3JkLCBzYWx0KTtcblxuICAgIC8vIHRva2Vuc1xuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oeyB1c2VySWQ6IHVzZXJJZCB9LCBcImNoZWVzZWNha2VcIiwge1xuICAgICAgZXhwaXJlc0luOiBcIjFkXCIsXG4gICAgfSk7XG5cbiAgICAvL2ZpbmQgY29tcGFueU5hbWUgYmFzZWQgb24gY29tcGFueSBrZXkgXG4gICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGRiXG4gICAgICAuY29sbGVjdGlvbihcImNvbXBhbmllc1wiKVxuICAgICAgLndoZXJlKFwiY29tcGFueUtleVwiLCBcIj09XCIsIGNvbXBhbnlLZXkpXG4gICAgICAuZ2V0KCk7XG4gICAgaWYgKHF1ZXJ5U25hcHNob3QuZW1wdHkpIHtcbiAgICAgIHRocm93IEhUVFBFcnJvcig0MDQsIFwiQ29tcGFueSBrZXkgZG9lcyBub3QgZXhpc3RcIik7XG4gICAgfVxuICAgIGNvbnN0IGNvbXBhbnlEYXRhID0gcXVlcnlTbmFwc2hvdC5kb2NzWzBdLmRhdGEoKTtcblxuICAgIGNvbnN0IHVzZXJPYmplY3QgPSB7XG4gICAgICB1c2VySWQsXG4gICAgICBlbWFpbCxcbiAgICAgIGhhc2gsXG4gICAgICBuYW1lLFxuICAgICAgXCJjb21wYW55TmFtZVwiOiBjb21wYW55RGF0YS5jb21wYW55TmFtZSxcbiAgICAgIHRva2VuczogW3Rva2VuXSxcbiAgICB9O1xuXG4gICAgLy8gc2V0IGluIGRhdGFiYXNlXG4gICAgYXdhaXQgdXNlci5kb2ModXNlcklkKS5zZXQodXNlck9iamVjdCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG9rZW46IHRva2VuLFxuICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBIVFRQRXJyb3IoNTAwLCBlcnJvci5tZXNzYWdlKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBhdXRoTG9naW4oZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykge1xuXG4gIC8vIGludmFsaWQgZW1haWxcbiAgaWYgKCFFbWFpbFZhbGlkYXRvci52YWxpZGF0ZShlbWFpbCkpIHtcbiAgICB0aHJvdyBIVFRQRXJyb3IoNDAwLCBcIkVtYWlsIGlzIGludmFsaWQuXCIpO1xuICB9XG5cbiAgLy8gQ2hlY2sgaXMgdXNlciB3aXRoIGVtYWlsIGV4aXN0c1xuICBpZiAoIWF3YWl0IHF1ZXJ5TG9naW5WYWxpZChlbWFpbCwgcGFzc3dvcmQpKSB7XG4gICAgdGhyb3cgSFRUUEVycm9yKDQwMSwgXCJVc2VyIHdpdGggdGhpcyBlbWFpbCBkb2VzIG5vdCBleGlzdCBvciBwYXNzd29yZCBpcyBpbmNvcnJlY3RcIik7XG4gIH1cblxuICAvLyBHZXQgdXNlckRhdGFcbiAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGRiXG4gICAgLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKVxuICAgIC53aGVyZShcImVtYWlsXCIsIFwiPT1cIiwgZW1haWwpXG4gICAgLmdldCgpO1xuICBjb25zdCB1c2VyRGF0YSA9IHF1ZXJ5U25hcHNob3QuZG9jc1swXS5kYXRhKCk7XG5cbiAgLy9HZW5lcmF0ZSB0b2tlblxuICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgdXNlcklkOiB1c2VyRGF0YS51c2VySWQgfSwgXCJjaGVlc2VjYWtlXCIsIHtcbiAgICBleHBpcmVzSW46IFwiMWRcIixcbiAgfSk7XG5cbiAgLy8gQXBwZW5kIG5ldyB0b2tlbiB0byB0aGUgZXhpc3RpbmcgdG9rZW4gYXJyYXlcbiAgdXNlckRhdGEudG9rZW5zLnB1c2godG9rZW4pO1xuXG4gIC8vIFVwZGF0ZSB1c2VyIGRvY3VtZW50IGluIEZpcmViYXNlXG4gIGF3YWl0IGRiLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKS5kb2ModXNlckRhdGEudXNlcklkKS51cGRhdGUoe1xuICAgIHRva2VuczogdXNlckRhdGEudG9rZW5zLFxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIHRva2VuOiB0b2tlbixcbiAgICB1c2VySWQ6IHVzZXJEYXRhLnVzZXJJZCxcbiAgfTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gYXV0aExvZ291dCh0b2tlbjogc3RyaW5nKSB7XG4gIC8vQXV0aGVudGljYXRlIHRva2VuXG4gIGNvbnN0IHVzZXJJZCA9IGF3YWl0IGF1dGhlbnRpY2F0ZUZyb21EQih0b2tlbik7XG4gIC8vIGZpbmQgdXNlciBpbiBkYlxuICBjb25zdCB1c2VyUmVmID0gZGIuY29sbGVjdGlvbihcInVzZXJzXCIpLmRvYyh1c2VySWQpO1xuICBjb25zdCB1c2VyRG9jID0gYXdhaXQgdXNlclJlZi5nZXQoKTtcbiAgaWYgKCF1c2VyRG9jLmV4aXN0cykge1xuICAgIHRocm93IEhUVFBFcnJvcig0MDMsIFwiSW52YWxpZCB0b2tlbi5cIik7XG4gIH1cblxuICAvLyByZW1vdmUgdG9rZW4gZnJvbSB1c2VyIG9iamVjdCBmb3IgdGhhdCBwYXJ0aWN1bGFyIHVzZXJcbiAgY29uc3QgdXBkYXRlZFRva2VucyA9IHVzZXJEb2MuZGF0YSgpLnRva2Vucy5maWx0ZXIoKHQ6IGFueSkgPT4gdCAhPT0gdG9rZW4pO1xuXG4gIC8vIHVwZGF0ZSB1c2VyIG9iamVjdCBpbiBkYlxuICBhd2FpdCB1c2VyUmVmLnVwZGF0ZSh7IHRva2VuczogdXBkYXRlZFRva2VucyB9KTtcblxuICByZXR1cm4ge1wibWVzc2FnZVwiOiBcIlVzZXIgbG9nZ2VkIG91dCBzdWNjZXNmdWxseVwifVxufVxuXG5leHBvcnQgeyBhdXRoUmVnaXN0ZXIsIGF1dGhMb2dpbiwgYXV0aExvZ291dCwgYXV0aFJlZ2lzdGVyQ29tcGFueSB9O1xuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmaXJlYmFzZV8xIiwiY292XzIyajRraGpya3QiLCJzIiwicmVxdWlyZSIsIlVzZXJUYWJsZV8xIiwiQ29tcGFueVRhYmxlXzEiLCJFbWFpbFZhbGlkYXRvciIsIl9faW1wb3J0U3RhciIsImh0dHBfZXJyb3JzXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJiY3J5cHRfMSIsImpzb253ZWJ0b2tlbl8xIiwibmFub2lkXzEiLCJhdXRoZW50aWNhdGVGcm9tREIiLCJ0b2tlbiIsImYiLCJkYiIsImNvbGxlY3Rpb24iLCJnZXQiLCJkYXRhIiwiX2EiLCJzZW50IiwiZGVjb2RlZFRva2VuIiwiZGVmYXVsdCIsInZlcmlmeSIsInVzZXJJZCIsIl9iIiwiYXV0aFJlZ2lzdGVyQ29tcGFueSIsImNvbXBhbnlOYW1lIiwiY29tcGFueUVtYWlsIiwibnVtRW1wbG95ZWVzIiwiQUJOIiwidmFsaWRhdGUiLCJiIiwidG9TdHJpbmciLCJsZW5ndGgiLCJxdWVyeUNvbXBhbnlCeUVtYWlsIiwiY29tcGFueUVtYWlsRXhpc3RzIiwicXVlcnlDb21wYW55RXhpc3RzIiwiZXhpc3RzIiwiY29tcGFueSIsImNvbXBhbnlLZXkiLCJuYW5vaWQiLCJuZXdDb21wYW55IiwiZG9jIiwic2V0IiwiZXJyb3JfMSIsIm1lc3NhZ2UiLCJleHBvcnRzIiwiYXV0aFJlZ2lzdGVyIiwiZW1haWwiLCJwYXNzd29yZCIsIm5hbWUiLCJxdWVyeVVzZXJCeUVtYWlsIiwiZW1haWxBbHJlYWR5RXhpc3RzIiwicXVlcnlVc2VyQnlDb21wYW55S2V5IiwiY29tcGFueUtleUV4aXN0cyIsInVzZXIiLCJzYWx0Um91bmRzIiwic2FsdCIsImdlblNhbHRTeW5jIiwiaGFzaCIsImhhc2hTeW5jIiwic2lnbiIsImV4cGlyZXNJbiIsIndoZXJlIiwicXVlcnlTbmFwc2hvdCIsImVtcHR5IiwiY29tcGFueURhdGEiLCJkb2NzIiwidXNlck9iamVjdCIsInRva2VucyIsImVycm9yXzIiLCJhdXRoTG9naW4iLCJxdWVyeUxvZ2luVmFsaWQiLCJ1c2VyRGF0YSIsInB1c2giLCJ1cGRhdGUiLCJhdXRoTG9nb3V0IiwidXNlclJlZiIsInVzZXJEb2MiLCJ1cGRhdGVkVG9rZW5zIiwiZmlsdGVyIiwidCJdLCJzb3VyY2VzIjpbIi9Vc2Vycy95dXNyYW1haG9tZWQvRGVza3RvcC9zZW5nMjAyMS0tL3NlMjAyMS0yM3QxLWVpbnZvaWNpbmctYXBpLWgxMGFfQ0hFRVNFQ0FLRS1zdG9yYWdlLWFwaS9zcmMvZnVuY3Rpb25zL2F1dGgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGIgfSBmcm9tIFwiLi4vY29uZmlnL2ZpcmViYXNlXCI7XG5cbmltcG9ydCB7XG4gIHF1ZXJ5TG9naW5WYWxpZCxcbiAgcXVlcnlVc2VyQnlFbWFpbFxufSBmcm9tIFwiLi4vc2VydmljZS9Vc2VyVGFibGVcIjtcbmltcG9ydCB7XG4gIHF1ZXJ5Q29tcGFueUV4aXN0cyxcbiAgcXVlcnlDb21wYW55QnlFbWFpbCxcbiAgcXVlcnlVc2VyQnlDb21wYW55S2V5LFxufSBmcm9tIFwiLi4vc2VydmljZS9Db21wYW55VGFibGVcIjtcbmltcG9ydCAqIGFzIEVtYWlsVmFsaWRhdG9yIGZyb20gXCJlbWFpbC12YWxpZGF0b3JcIjtcbmltcG9ydCBIVFRQRXJyb3IgZnJvbSBcImh0dHAtZXJyb3JzXCI7XG5pbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSBcIm5hbm9pZFwiO1xuaW1wb3J0IHsgZW1pdCB9IGZyb20gXCJwcm9jZXNzXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZUZyb21EQih0b2tlbjogc3RyaW5nKSB7XG4gIC8vIGNvbm5lY3QgdG8gZGJcbiAgY29uc3QgZGF0YSA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKS5nZXQoKTtcbiAgdHJ5IHtcbiAgICBjb25zdCBkZWNvZGVkVG9rZW4gPSBqd3QudmVyaWZ5KHRva2VuLCBcImNoZWVzZWNha2VcIikgYXMgand0Lkp3dFBheWxvYWQ7XG4gICAgLy8gcmV0dXJuIGEgdXNlciBpZFxuICAgIHJldHVybiBkZWNvZGVkVG9rZW4udXNlcklkO1xuICB9IGNhdGNoIHtcbiAgICB0aHJvdyBIVFRQRXJyb3IoNDAxLCBcIlVuYXV0aG9yaXplZDogaW52YWxpZCB0b2tlblwiKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBhdXRoUmVnaXN0ZXJDb21wYW55KFxuICBjb21wYW55TmFtZTogc3RyaW5nLFxuICBjb21wYW55RW1haWw6IHN0cmluZyxcbiAgbnVtRW1wbG95ZWVzOiBudW1iZXIsXG4gIEFCTjogbnVtYmVyXG4pIHtcbiAgLy8gaW52YWxpZCBlbWFpbFxuICBpZiAoIUVtYWlsVmFsaWRhdG9yLnZhbGlkYXRlKGNvbXBhbnlFbWFpbCkpIHtcbiAgICB0aHJvdyBIVFRQRXJyb3IoNDAwLCBcIkJhZCByZXF1ZXN0OiBFbWFpbCBpcyBpbnZhbGlkXCIpO1xuICB9XG5cbiAgaWYgKEFCTi50b1N0cmluZygpLmxlbmd0aCAhPT0gMTEpIHtcbiAgICB0aHJvdyBIVFRQRXJyb3IoNDAwLCBcIkJhZCByZXF1ZXN0OiBBQk4gaW52YWxpZFwiKTtcbiAgfVxuICBcbiAgLy8gY2hlY2sgaWYgY29tcGFueSBlbWFpbCBhbHJlYWR5IGV4aXN0c1xuICBjb25zdCBjb21wYW55RW1haWxFeGlzdHMgPSBhd2FpdCBxdWVyeUNvbXBhbnlCeUVtYWlsKGNvbXBhbnlFbWFpbCk7XG4gIGlmIChjb21wYW55RW1haWxFeGlzdHMpIHtcbiAgICB0aHJvdyBIVFRQRXJyb3IoNDA5LCBcIkNvbXBhbnkgZW1haWwgaXMgYWxyZWFkeSByZWdpc3RlcmVkXCIpO1xuICB9XG5cbiAgLy8gY2hlY2sgaWYgY29tcGFueSBhbHJlYWR5IGV4aXN0c1xuICBjb25zdCBleGlzdHMgPSBhd2FpdCBxdWVyeUNvbXBhbnlFeGlzdHMoY29tcGFueU5hbWUpO1xuICBpZiAoZXhpc3RzKSB7XG4gICAgdGhyb3cgSFRUUEVycm9yKDQwOSwgXCJDb21wYW55IGlzIGFscmVhZHkgcmVnaXN0ZXJlZC5cIik7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGNvbXBhbnkgPSBkYi5jb2xsZWN0aW9uKFwiY29tcGFuaWVzXCIpO1xuXG4gICAgLy8gbm90IHNlY3VyZSBidXQgaGVscGZ1bCBmb3IgZWFybHkgdGVzdGluZ1xuICAgIGNvbnN0IGNvbXBhbnlLZXkgPSBuYW5vaWQoKTtcblxuICAgIGNvbnN0IG5ld0NvbXBhbnkgPSB7XG4gICAgICBjb21wYW55TmFtZTogY29tcGFueU5hbWUsXG4gICAgICBjb21wYW55RW1haWw6IGNvbXBhbnlFbWFpbCxcbiAgICAgIGNvbXBhbnlLZXk6IGNvbXBhbnlLZXksXG4gICAgICBudW1FbXBsb3llZXM6IG51bUVtcGxveWVlcyxcbiAgICAgIEFCTjogQUJOLFxuICAgIH07XG5cbiAgICBhd2FpdCBjb21wYW55LmRvYyhjb21wYW55TmFtZSkuc2V0KG5ld0NvbXBhbnkpO1xuICAgIHJldHVybiB7IGNvbXBhbnlLZXk6IGNvbXBhbnlLZXkgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBIVFRQRXJyb3IoNTAwLCBlcnJvci5tZXNzYWdlKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBhdXRoUmVnaXN0ZXIoXG4gIGVtYWlsOiBzdHJpbmcsXG4gIHBhc3N3b3JkOiBzdHJpbmcsXG4gIG5hbWU6IHN0cmluZyxcbiAgY29tcGFueUtleTogc3RyaW5nXG4pIHtcbiAgLy8gaW52YWxpZCBlbWFpbFxuICBpZiAoIUVtYWlsVmFsaWRhdG9yLnZhbGlkYXRlKGVtYWlsKSkge1xuICAgIHRocm93IEhUVFBFcnJvcig0MDAsIFwiQmFkIHJlcXVlc3Q6IEVtYWlsIGlzIGludmFsaWQuXCIpO1xuICB9XG5cbiAgLy8gIGNoZWNrIGlmIGVtYWlsIGFscmVhZHkgZXhpc3RzXG4gIGNvbnN0IGVtYWlsQWxyZWFkeUV4aXN0cyA9IGF3YWl0IHF1ZXJ5VXNlckJ5RW1haWwoZW1haWwpO1xuICBpZiAoZW1haWxBbHJlYWR5RXhpc3RzKSB7XG4gICAgdGhyb3cgSFRUUEVycm9yKDQwOSwgXCJFbWFpbCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuXCIpO1xuICB9XG5cbiAgLy8gaW52YWxpZCBjb21wYW55S2V5XG4gIGNvbnN0IGNvbXBhbnlLZXlFeGlzdHMgPSBhd2FpdCBxdWVyeVVzZXJCeUNvbXBhbnlLZXkoY29tcGFueUtleSk7XG4gIGlmICghY29tcGFueUtleUV4aXN0cykge1xuICAgIHRocm93IEhUVFBFcnJvcig0MDQsIFwiQ29tcGFueSBrZXkgZG9lcyBub3QgZXhpc3RcIik7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHVzZXIgPSBkYi5jb2xsZWN0aW9uKFwidXNlcnNcIik7XG4gICAgY29uc3QgdXNlcklkID0gbmFub2lkKCk7XG4gICAgLy8gcGFzc3dvcmQgZW5jcnlwdGlvblxuICAgIGNvbnN0IHNhbHRSb3VuZHMgPSAxMDtcbiAgICBjb25zdCBzYWx0ID0gYmNyeXB0LmdlblNhbHRTeW5jKHNhbHRSb3VuZHMpO1xuICAgIGNvbnN0IGhhc2ggPSBiY3J5cHQuaGFzaFN5bmMocGFzc3dvcmQsIHNhbHQpO1xuXG4gICAgLy8gdG9rZW5zXG4gICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7IHVzZXJJZDogdXNlcklkIH0sIFwiY2hlZXNlY2FrZVwiLCB7XG4gICAgICBleHBpcmVzSW46IFwiMWRcIixcbiAgICB9KTtcblxuICAgIC8vZmluZCBjb21wYW55TmFtZSBiYXNlZCBvbiBjb21wYW55IGtleSBcbiAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZGJcbiAgICAgIC5jb2xsZWN0aW9uKFwiY29tcGFuaWVzXCIpXG4gICAgICAud2hlcmUoXCJjb21wYW55S2V5XCIsIFwiPT1cIiwgY29tcGFueUtleSlcbiAgICAgIC5nZXQoKTtcbiAgICBpZiAocXVlcnlTbmFwc2hvdC5lbXB0eSkge1xuICAgICAgdGhyb3cgSFRUUEVycm9yKDQwNCwgXCJDb21wYW55IGtleSBkb2VzIG5vdCBleGlzdFwiKTtcbiAgICB9XG4gICAgY29uc3QgY29tcGFueURhdGEgPSBxdWVyeVNuYXBzaG90LmRvY3NbMF0uZGF0YSgpO1xuXG4gICAgY29uc3QgdXNlck9iamVjdCA9IHtcbiAgICAgIHVzZXJJZCxcbiAgICAgIGVtYWlsLFxuICAgICAgaGFzaCxcbiAgICAgIG5hbWUsXG4gICAgICBcImNvbXBhbnlOYW1lXCI6IGNvbXBhbnlEYXRhLmNvbXBhbnlOYW1lLFxuICAgICAgdG9rZW5zOiBbdG9rZW5dLFxuICAgIH07XG5cbiAgICAvLyBzZXQgaW4gZGF0YWJhc2VcbiAgICBhd2FpdCB1c2VyLmRvYyh1c2VySWQpLnNldCh1c2VyT2JqZWN0KTtcblxuICAgIHJldHVybiB7XG4gICAgICB0b2tlbjogdG9rZW4sXG4gICAgICB1c2VySWQ6IHVzZXJJZCxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IEhUVFBFcnJvcig1MDAsIGVycm9yLm1lc3NhZ2UpO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGF1dGhMb2dpbihlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSB7XG5cbiAgLy8gaW52YWxpZCBlbWFpbFxuICBpZiAoIUVtYWlsVmFsaWRhdG9yLnZhbGlkYXRlKGVtYWlsKSkge1xuICAgIHRocm93IEhUVFBFcnJvcig0MDAsIFwiRW1haWwgaXMgaW52YWxpZC5cIik7XG4gIH1cblxuICAvLyBDaGVjayBpcyB1c2VyIHdpdGggZW1haWwgZXhpc3RzXG4gIGlmICghYXdhaXQgcXVlcnlMb2dpblZhbGlkKGVtYWlsLCBwYXNzd29yZCkpIHtcbiAgICB0aHJvdyBIVFRQRXJyb3IoNDAxLCBcIlVzZXIgd2l0aCB0aGlzIGVtYWlsIGRvZXMgbm90IGV4aXN0IG9yIHBhc3N3b3JkIGlzIGluY29ycmVjdFwiKTtcbiAgfVxuXG4gIC8vIEdldCB1c2VyRGF0YVxuICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZGJcbiAgICAuY29sbGVjdGlvbihcInVzZXJzXCIpXG4gICAgLndoZXJlKFwiZW1haWxcIiwgXCI9PVwiLCBlbWFpbClcbiAgICAuZ2V0KCk7XG4gIGNvbnN0IHVzZXJEYXRhID0gcXVlcnlTbmFwc2hvdC5kb2NzWzBdLmRhdGEoKTtcblxuICAvL0dlbmVyYXRlIHRva2VuXG4gIGNvbnN0IHRva2VuID0gand0LnNpZ24oeyB1c2VySWQ6IHVzZXJEYXRhLnVzZXJJZCB9LCBcImNoZWVzZWNha2VcIiwge1xuICAgIGV4cGlyZXNJbjogXCIxZFwiLFxuICB9KTtcblxuICAvLyBBcHBlbmQgbmV3IHRva2VuIHRvIHRoZSBleGlzdGluZyB0b2tlbiBhcnJheVxuICB1c2VyRGF0YS50b2tlbnMucHVzaCh0b2tlbik7XG5cbiAgLy8gVXBkYXRlIHVzZXIgZG9jdW1lbnQgaW4gRmlyZWJhc2VcbiAgYXdhaXQgZGIuY29sbGVjdGlvbihcInVzZXJzXCIpLmRvYyh1c2VyRGF0YS51c2VySWQpLnVwZGF0ZSh7XG4gICAgdG9rZW5zOiB1c2VyRGF0YS50b2tlbnMsXG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgdG9rZW46IHRva2VuLFxuICAgIHVzZXJJZDogdXNlckRhdGEudXNlcklkLFxuICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiBhdXRoTG9nb3V0KHRva2VuOiBzdHJpbmcpIHtcbiAgLy9BdXRoZW50aWNhdGUgdG9rZW5cbiAgY29uc3QgdXNlcklkID0gYXdhaXQgYXV0aGVudGljYXRlRnJvbURCKHRva2VuKTtcbiAgLy8gZmluZCB1c2VyIGluIGRiXG4gIGNvbnN0IHVzZXJSZWYgPSBkYi5jb2xsZWN0aW9uKFwidXNlcnNcIikuZG9jKHVzZXJJZCk7XG4gIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCB1c2VyUmVmLmdldCgpO1xuICBpZiAoIXVzZXJEb2MuZXhpc3RzKSB7XG4gICAgdGhyb3cgSFRUUEVycm9yKDQwMywgXCJJbnZhbGlkIHRva2VuLlwiKTtcbiAgfVxuXG4gIC8vIHJlbW92ZSB0b2tlbiBmcm9tIHVzZXIgb2JqZWN0IGZvciB0aGF0IHBhcnRpY3VsYXIgdXNlclxuICBjb25zdCB1cGRhdGVkVG9rZW5zID0gdXNlckRvYy5kYXRhKCkudG9rZW5zLmZpbHRlcigodDogYW55KSA9PiB0ICE9PSB0b2tlbik7XG5cbiAgLy8gdXBkYXRlIHVzZXIgb2JqZWN0IGluIGRiXG4gIGF3YWl0IHVzZXJSZWYudXBkYXRlKHsgdG9rZW5zOiB1cGRhdGVkVG9rZW5zIH0pO1xuXG4gIHJldHVybiB7XCJtZXNzYWdlXCI6IFwiVXNlciBsb2dnZWQgb3V0IHN1Y2Nlc2Z1bGx5XCJ9XG59XG5cbmV4cG9ydCB7IGF1dGhSZWdpc3RlciwgYXV0aExvZ2luLCBhdXRoTG9nb3V0LCBhdXRoUmVnaXN0ZXJDb21wYW55IH07XG4iXSwibWFwcGluZ3MiOiI7NmdTQUFBLElBQUFBLFVBQUEsRUFBQUMsY0FBQSxHQUFBQyxDQUFBLE9BQUFDLE9BQUEsd0JBRUEsSUFBQUMsV0FBQSxFQUFBSCxjQUFBLEdBQUFDLENBQUEsT0FBQUMsT0FBQSwwQkFJQSxJQUFBRSxjQUFBLEVBQUFKLGNBQUEsR0FBQUMsQ0FBQSxPQUFBQyxPQUFBLDZCQUtBLElBQUFHLGNBQUEsRUFBQUwsY0FBQSxHQUFBQyxDQUFBLE9BQUFLLFlBQUEsQ0FBQUosT0FBQSxzQkFDQSxJQUFBSyxhQUFBLEVBQUFQLGNBQUEsR0FBQUMsQ0FBQSxPQUFBTyxlQUFBLENBQUFOLE9BQUEsa0JBQ0EsSUFBQU8sUUFBQSxFQUFBVCxjQUFBLEdBQUFDLENBQUEsT0FBQU8sZUFBQSxDQUFBTixPQUFBLGFBQ0EsSUFBQVEsY0FBQSxFQUFBVixjQUFBLEdBQUFDLENBQUEsUUFBQU8sZUFBQSxDQUFBTixPQUFBLG1CQUNBLElBQUFTLFFBQUEsRUFBQVgsY0FBQSxHQUFBQyxDQUFBLFFBQUFDLE9BQUEsWUFHQSxRQUFlLENBQUFVLGtCQUFrQkEsQ0FBQ0MsS0FBYSxFQUFBYixjQUFBLEdBQUFjLENBQUEsT0FBQWQsY0FBQSxHQUFBQyxDQUFBLFEsOFJBRWhDLGtCQUFNRixVQUFBLENBQUFnQixFQUFFLENBQUNDLFVB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