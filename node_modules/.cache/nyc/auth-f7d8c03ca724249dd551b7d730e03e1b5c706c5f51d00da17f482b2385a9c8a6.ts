"use strict";function cov_10tis6q3m4(){var path="/Users/yusramahomed/Desktop/SENG2021/se2021-23t1-einvoicing-api-h10a_CHEESECAKE-storage-api/src/functions/auth.ts";var hash="7fd45c772e3763cd4c59127067645a24fdad90f5";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/yusramahomed/Desktop/SENG2021/se2021-23t1-einvoicing-api-h10a_CHEESECAKE-storage-api/src/functions/auth.ts",statementMap:{"0":{start:{line:2,column:22},end:{line:12,column:3}},"1":{start:{line:3,column:4},end:{line:3,column:33}},"2":{start:{line:3,column:26},end:{line:3,column:33}},"3":{start:{line:4,column:15},end:{line:4,column:52}},"4":{start:{line:5,column:4},end:{line:7,column:5}},"5":{start:{line:6,column:6},end:{line:6,column:68}},"6":{start:{line:6,column:51},end:{line:6,column:63}},"7":{start:{line:8,column:4},end:{line:8,column:39}},"8":{start:{line:10,column:4},end:{line:10,column:33}},"9":{start:{line:10,column:26},end:{line:10,column:33}},"10":{start:{line:11,column:4},end:{line:11,column:17}},"11":{start:{line:13,column:25},end:{line:17,column:2}},"12":{start:{line:14,column:4},end:{line:14,column:72}},"13":{start:{line:16,column:4},end:{line:16,column:21}},"14":{start:{line:18,column:19},end:{line:24,column:1}},"15":{start:{line:19,column:4},end:{line:19,column:42}},"16":{start:{line:19,column:31},end:{line:19,column:42}},"17":{start:{line:20,column:17},end:{line:20,column:19}},"18":{start:{line:21,column:4},end:{line:21,column:141}},"19":{start:{line:21,column:21},end:{line:21,column:141}},"20":{start:{line:21,column:40},end:{line:21,column:141}},"21":{start:{line:21,column:109},end:{line:21,column:141}},"22":{start:{line:22,column:4},end:{line:22,column:36}},"23":{start:{line:23,column:4},end:{line:23,column:18}},"24":{start:{line:25,column:16},end:{line:33,column:1}},"25":{start:{line:26,column:28},end:{line:26,column:110}},"26":{start:{line:26,column:91},end:{line:26,column:106}},"27":{start:{line:27,column:4},end:{line:32,column:7}},"28":{start:{line:28,column:36},end:{line:28,column:97}},"29":{start:{line:28,column:42},end:{line:28,column:70}},"30":{start:{line:28,column:85},end:{line:28,column:95}},"31":{start:{line:29,column:35},end:{line:29,column:100}},"32":{start:{line:29,column:41},end:{line:29,column:73}},"33":{start:{line:29,column:88},end:{line:29,column:98}},"34":{start:{line:30,column:32},end:{line:30,column:116}},"35":{start:{line:31,column:8},end:{line:31,column:78}},"36":{start:{line:34,column:18},end:{line:60,column:1}},"37":{start:{line:35,column:12},end:{line:35,column:104}},"38":{start:{line:35,column:43},end:{line:35,column:68}},"39":{start:{line:35,column:57},end:{line:35,column:68}},"40":{start:{line:35,column:69},end:{line:35,column:81}},"41":{start:{line:36,column:4},end:{line:36,column:157}},"42":{start:{line:36,column:138},end:{line:36,column:150}},"43":{start:{line:37,column:23},end:{line:37,column:68}},"44":{start:{line:37,column:45},end:{line:37,column:65}},"45":{start:{line:39,column:8},end:{line:39,column:70}},"46":{start:{line:39,column:15},end:{line:39,column:70}},"47":{start:{line:40,column:8},end:{line:57,column:66}},"48":{start:{line:40,column:50},end:{line:57,column:66}},"49":{start:{line:41,column:12},end:{line:41,column:169}},"50":{start:{line:41,column:160},end:{line:41,column:169}},"51":{start:{line:42,column:12},end:{line:42,column:52}},"52":{start:{line:42,column:26},end:{line:42,column:52}},"53":{start:{line:43,column:12},end:{line:55,column:13}},"54":{start:{line:44,column:32},end:{line:44,column:39}},"55":{start:{line:44,column:40},end:{line:44,column:46}},"56":{start:{line:45,column:24},end:{line:45,column:34}},"57":{start:{line:45,column:35},end:{line:45,column:72}},"58":{start:{line:46,column:24},end:{line:46,column:34}},"59":{start:{line:46,column:35},end:{line:46,column:45}},"60":{start:{line:46,column:46},end:{line:46,column:55}},"61":{start:{line:46,column:56},end:{line:46,column:65}},"62":{start:{line:47,column:24},end:{line:47,column:41}},"63":{start:{line:47,column:42},end:{line:47,column:55}},"64":{start:{line:47,column:56},end:{line:47,column:65}},"65":{start:{line:49,column:20},end:{line:49,column:128}},"66":{start:{line:49,column:110},end:{line:49,column:116}},"67":{start:{line:49,column:117},end:{line:49,column:126}},"68":{start:{line:50,column:20},end:{line:50,column:106}},"69":{start:{line:50,column:81},end:{line:50,column:97}},"70":{start:{line:50,column:98},end:{line:50,column:104}},"71":{start:{line:51,column:20},end:{line:51,column:89}},"72":{start:{line:51,column:57},end:{line:51,column:72}},"73":{start:{line:51,column:73},end:{line:51,column:80}},"74":{start:{line:51,column:81},end:{line:51,column:87}},"75":{start:{line:52,column:20},end:{line:52,column:87}},"76":{start:{line:52,column:47},end:{line:52,column:62}},"77":{start:{line:52,column:63},end:{line:52,column:78}},"78":{start:{line:52,column:79},end:{line:52,column:85}},"79":{start:{line:53,column:20},end:{line:53,column:42}},"80":{start:{line:53,column:30},end:{line:53,column:42}},"81":{start:{line:54,column:20},end:{line:54,column:33}},"82":{start:{line:54,column:34},end:{line:54,column:43}},"83":{start:{line:56,column:12},end:{line:56,column:39}},"84":{start:{line:57,column:22},end:{line:57,column:34}},"85":{start:{line:57,column:35},end:{line:57,column:41}},"86":{start:{line:57,column:54},end:{line:57,column:64}},"87":{start:{line:58,column:8},end:{line:58,column:35}},"88":{start:{line:58,column:23},end:{line:58,column:35}},"89":{start:{line:58,column:36},end:{line:58,column:89}},"90":{start:{line:61,column:22},end:{line:63,column:1}},"91":{start:{line:62,column:4},end:{line:62,column:62}},"92":{start:{line:64,column:0},end:{line:64,column:62}},"93":{start:{line:65,column:0},end:{line:65,column:101}},"94":{start:{line:66,column:17},end:{line:66,column:46}},"95":{start:{line:67,column:18},end:{line:67,column:49}},"96":{start:{line:68,column:21},end:{line:68,column:55}},"97":{start:{line:69,column:21},end:{line:69,column:61}},"98":{start:{line:70,column:20},end:{line:70,column:59}},"99":{start:{line:71,column:15},end:{line:71,column:49}},"100":{start:{line:72,column:21},end:{line:72,column:61}},"101":{start:{line:73,column:15},end:{line:73,column:32}},"102":{start:{line:75,column:4},end:{line:98,column:7}},"103":{start:{line:77,column:8},end:{line:97,column:11}},"104":{start:{line:78,column:12},end:{line:96,column:13}},"105":{start:{line:79,column:24},end:{line:79,column:86}},"106":{start:{line:81,column:20},end:{line:81,column:37}},"107":{start:{line:82,column:20},end:{line:94,column:21}},"108":{start:{line:83,column:24},end:{line:83,column:48}},"109":{start:{line:84,column:24},end:{line:84,column:90}},"110":{start:{line:90,column:24},end:{line:90,column:67}},"111":{start:{line:93,column:24},end:{line:93,column:80}},"112":{start:{line:95,column:20},end:{line:95,column:42}},"113":{start:{line:101,column:4},end:{line:140,column:7}},"114":{start:{line:103,column:8},end:{line:139,column:11}},"115":{start:{line:104,column:12},end:{line:138,column:13}},"116":{start:{line:107,column:20},end:{line:109,column:21}},"117":{start:{line:108,column:24},end:{line:108,column:83}},"118":{start:{line:110,column:20},end:{line:110,column:94}},"119":{start:{line:112,column:20},end:{line:112,column:39}},"120":{start:{line:113,column:20},end:{line:115,column:21}},"121":{start:{line:114,column:24},end:{line:114,column:93}},"122":{start:{line:116,column:20},end:{line:116,column:33}},"123":{start:{line:118,column:20},end:{line:118,column:46}},"124":{start:{line:119,column:20},end:{line:119,column:68}},"125":{start:{line:120,column:20},end:{line:120,column:82}},"126":{start:{line:122,column:20},end:{line:122,column:43}},"127":{start:{line:123,column:20},end:{line:129,column:22}},"128":{start:{line:130,column:20},end:{line:130,column:83}},"129":{start:{line:132,column:20},end:{line:132,column:30}},"130":{start:{line:133,column:20},end:{line:133,column:70}},"131":{start:{line:135,column:20},end:{line:135,column:40}},"132":{start:{line:136,column:20},end:{line:136,column:53}},"133":{start:{line:137,column:24},end:{line:137,column:46}},"134":{start:{line:142,column:0},end:{line:142,column:50}},"135":{start:{line:144,column:4},end:{line:209,column:7}},"136":{start:{line:146,column:8},end:{line:208,column:11}},"137":{start:{line:147,column:12},end:{line:207,column:13}},"138":{start:{line:150,column:20},end:{line:152,column:21}},"139":{start:{line:151,column:24},end:{line:151,column:83}},"140":{start:{line:153,column:20},end:{line:153,column:83}},"141":{start:{line:155,column:20},end:{line:155,column:51}},"142":{start:{line:156,column:20},end:{line:158,column:21}},"143":{start:{line:157,column:24},end:{line:157,column:91}},"144":{start:{line:159,column:20},end:{line:159,column:96}},"145":{start:{line:161,column:20},end:{line:161,column:49}},"146":{start:{line:162,column:20},end:{line:164,column:21}},"147":{start:{line:163,column:24},end:{line:163,column:86}},"148":{start:{line:165,column:20},end:{line:165,column:33}},"149":{start:{line:167,column:20},end:{line:167,column:46}},"150":{start:{line:168,column:20},end:{line:168,column:61}},"151":{start:{line:169,column:20},end:{line:169,column:52}},"152":{start:{line:170,column:20},end:{line:170,column:36}},"153":{start:{line:171,column:20},end:{line:171,column:68}},"154":{start:{line:172,column:20},end:{line:172,column:69}},"155":{start:{line:173,column:20},end:{line:175,column:23}},"156":{start:{line:176,column:20},end:{line:179,column:36}},"157":{start:{line:181,column:20},end:{line:181,column:46}},"158":{start:{line:182,column:20},end:{line:184,column:21}},"159":{start:{line:183,column:24},end:{line:183,column:98}},"160":{start:{line:185,column:20},end:{line:185,column:63}},"161":{start:{line:186,column:20},end:{line:193,column:22}},"162":{start:{line:195,column:20},end:{line:195,column:75}},"163":{start:{line:198,column:20},end:{line:198,column:30}},"164":{start:{line:199,column:20},end:{line:202,column:27}},"165":{start:{line:204,column:20},end:{line:204,column:40}},"166":{start:{line:205,column:20},end:{line:205,column:53}},"167":{start:{line:206,column:24},end:{line:206,column:46}},"168":{start:{line:211,column:0},end:{line:211,column:36}},"169":{start:{line:213,column:4},end:{line:250,column:7}},"170":{start:{line:215,column:8},end:{line:249,column:11}},"171":{start:{line:216,column:12},end:{line:248,column:13}},"172":{start:{line:219,column:20},end:{line:221,column:21}},"173":{start:{line:220,column:24},end:{line:220,column:92}},"174":{start:{line:222,column:20},end:{line:225,column:36}},"175":{start:{line:227,column:20},end:{line:227,column:46}},"176":{start:{line:228,column:20},end:{line:230,column:21}},"177":{start:{line:229,column:24},end:{line:229,column:79}},"178":{start:{line:231,column:20},end:{line:231,column:60}},"179":{start:{line:232,column:20},end:{line:234,column:23}},"180":{start:{line:236,column:20},end:{line:236,column:48}},"181":{start:{line:238,column:20},end:{line:240,column:28}},"182":{start:{line:243,column:20},end:{line:243,column:30}},"183":{start:{line:244,column:20},end:{line:247,column:27}},"184":{start:{line:252,column:0},end:{line:252,column:30}},"185":{start:{line:254,column:4},end:{line:274,column:7}},"186":{start:{line:256,column:8},end:{line:273,column:11}},"187":{start:{line:257,column:12},end:{line:272,column:13}},"188":{start:{line:258,column:24},end:{line:258,column:72}},"189":{start:{line:260,column:20},end:{line:260,column:39}},"190":{start:{line:261,column:20},end:{line:261,column:76}},"191":{start:{line:262,column:20},end:{line:262,column:56}},"192":{start:{line:264,column:20},end:{line:264,column:40}},"193":{start:{line:265,column:20},end:{line:265,column:103}},"194":{start:{line:265,column:80},end:{line:265,column:99}},"195":{start:{line:267,column:20},end:{line:267,column:84}},"196":{start:{line:270,column:20},end:{line:270,column:30}},"197":{start:{line:271,column:20},end:{line:271,column:46}},"198":{start:{line:276,column:0},end:{line:276,column:32}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:2,column:74},end:{line:2,column:75}},loc:{start:{line:2,column:96},end:{line:9,column:1}},line:2},"1":{name:"(anonymous_1)",decl:{start:{line:6,column:38},end:{line:6,column:39}},loc:{start:{line:6,column:49},end:{line:6,column:65}},line:6},"2":{name:"(anonymous_2)",decl:{start:{line:9,column:6},end:{line:9,column:7}},loc:{start:{line:9,column:28},end:{line:12,column:1}},line:9},"3":{name:"(anonymous_3)",decl:{start:{line:13,column:80},end:{line:13,column:81}},loc:{start:{line:13,column:95},end:{line:15,column:1}},line:13},"4":{name:"(anonymous_4)",decl:{start:{line:15,column:5},end:{line:15,column:6}},loc:{start:{line:15,column:20},end:{line:17,column:1}},line:15},"5":{name:"(anonymous_5)",decl:{start:{line:18,column:50},end:{line:18,column:51}},loc:{start:{line:18,column:65},end:{line:24,column:1}},line:18},"6":{name:"(anonymous_6)",decl:{start:{line:25,column:44},end:{line:25,column:45}},loc:{start:{line:25,column:89},end:{line:33,column:1}},line:25},"7":{name:"adopt",decl:{start:{line:26,column:13},end:{line:26,column:18}},loc:{start:{line:26,column:26},end:{line:26,column:112}},line:26},"8":{name:"(anonymous_8)",decl:{start:{line:26,column:70},end:{line:26,column:71}},loc:{start:{line:26,column:89},end:{line:26,column:108}},line:26},"9":{name:"(anonymous_9)",decl:{start:{line:27,column:36},end:{line:27,column:37}},loc:{start:{line:27,column:63},end:{line:32,column:5}},line:27},"10":{name:"fulfilled",decl:{start:{line:28,column:17},end:{line:28,column:26}},loc:{start:{line:28,column:34},end:{line:28,column:99}},line:28},"11":{name:"rejected",decl:{start:{line:29,column:17},end:{line:29,column:25}},loc:{start:{line:29,column:33},end:{line:29,column:102}},line:29},"12":{name:"step",decl:{start:{line:30,column:17},end:{line:30,column:21}},loc:{start:{line:30,column:30},end:{line:30,column:118}},line:30},"13":{name:"(anonymous_13)",decl:{start:{line:34,column:48},end:{line:34,column:49}},loc:{start:{line:34,column:73},end:{line:60,column:1}},line:34},"14":{name:"(anonymous_14)",decl:{start:{line:35,column:30},end:{line:35,column:31}},loc:{start:{line:35,column:41},end:{line:35,column:83}},line:35},"15":{name:"(anonymous_15)",decl:{start:{line:36,column:125},end:{line:36,column:126}},loc:{start:{line:36,column:136},end:{line:36,column:152}},line:36},"16":{name:"verb",decl:{start:{line:37,column:13},end:{line:37,column:17}},loc:{start:{line:37,column:21},end:{line:37,column:70}},line:37},"17":{name:"(anonymous_17)",decl:{start:{line:37,column:30},end:{line:37,column:31}},loc:{start:{line:37,column:43},end:{line:37,column:67}},line:37},"18":{name:"step",decl:{start:{line:38,column:13},end:{line:38,column:17}},loc:{start:{line:38,column:22},end:{line:59,column:5}},line:38},"19":{name:"(anonymous_19)",decl:{start:{line:61,column:56},end:{line:61,column:57}},loc:{start:{line:61,column:71},end:{line:63,column:1}},line:61},"20":{name:"authenticateFromDB",decl:{start:{line:74,column:9},end:{line:74,column:27}},loc:{start:{line:74,column:35},end:{line:99,column:1}},line:74},"21":{name:"(anonymous_21)",decl:{start:{line:75,column:43},end:{line:75,column:44}},loc:{start:{line:75,column:55},end:{line:98,column:5}},line:75},"22":{name:"(anonymous_22)",decl:{start:{line:77,column:33},end:{line:77,column:34}},loc:{start:{line:77,column:47},end:{line:97,column:9}},line:77},"23":{name:"authRegisterCompany",decl:{start:{line:100,column:9},end:{line:100,column:28}},loc:{start:{line:100,column:75},end:{line:141,column:1}},line:100},"24":{name:"(anonymous_24)",decl:{start:{line:101,column:43},end:{line:101,column:44}},loc:{start:{line:101,column:55},end:{line:140,column:5}},line:101},"25":{name:"(anonymous_25)",decl:{start:{line:103,column:33},end:{line:103,column:34}},loc:{start:{line:103,column:47},end:{line:139,column:9}},line:103},"26":{name:"authRegister",decl:{start:{line:143,column:9},end:{line:143,column:21}},loc:{start:{line:143,column:57},end:{line:210,column:1}},line:143},"27":{name:"(anonymous_27)",decl:{start:{line:144,column:43},end:{line:144,column:44}},loc:{start:{line:144,column:55},end:{line:209,column:5}},line:144},"28":{name:"(anonymous_28)",decl:{start:{line:146,column:33},end:{line:146,column:34}},loc:{start:{line:146,column:47},end:{line:208,column:9}},line:146},"29":{name:"authLogin",decl:{start:{line:212,column:9},end:{line:212,column:18}},loc:{start:{line:212,column:36},end:{line:251,column:1}},line:212},"30":{name:"(anonymous_30)",decl:{start:{line:213,column:43},end:{line:213,column:44}},loc:{start:{line:213,column:55},end:{line:250,column:5}},line:213},"31":{name:"(anonymous_31)",decl:{start:{line:215,column:33},end:{line:215,column:34}},loc:{start:{line:215,column:47},end:{line:249,column:9}},line:215},"32":{name:"authLogout",decl:{start:{line:253,column:9},end:{line:253,column:19}},loc:{start:{line:253,column:27},end:{line:275,column:1}},line:253},"33":{name:"(anonymous_33)",decl:{start:{line:254,column:43},end:{line:254,column:44}},loc:{start:{line:254,column:55},end:{line:274,column:5}},line:254},"34":{name:"(anonymous_34)",decl:{start:{line:256,column:33},end:{line:256,column:34}},loc:{start:{line:256,column:47},end:{line:273,column:9}},line:256},"35":{name:"(anonymous_35)",decl:{start:{line:265,column:65},end:{line:265,column:66}},loc:{start:{line:265,column:78},end:{line:265,column:101}},line:265}},branchMap:{"0":{loc:{start:{line:2,column:22},end:{line:12,column:3}},type:"binary-expr",locations:[{start:{line:2,column:23},end:{line:2,column:27}},{start:{line:2,column:31},end:{line:2,column:51}},{start:{line:2,column:57},end:{line:12,column:2}}],line:2},"1":{loc:{start:{line:2,column:57},end:{line:12,column:2}},type:"cond-expr",locations:[{start:{line:2,column:74},end:{line:9,column:1}},{start:{line:9,column:6},end:{line:12,column:1}}],line:2},"2":{loc:{start:{line:3,column:4},end:{line:3,column:33}},type:"if",locations:[{start:{line:3,column:4},end:{line:3,column:33}},{start:{line:3,column:4},end:{line:3,column:33}}],line:3},"3":{loc:{start:{line:5,column:4},end:{line:7,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:7,column:5}},{start:{line:5,column:4},end:{line:7,column:5}}],line:5},"4":{loc:{start:{line:5,column:8},end:{line:5,column:85}},type:"binary-expr",locations:[{start:{line:5,column:8},end:{line:5,column:13}},{start:{line:5,column:18},end:{line:5,column:84}}],line:5},"5":{loc:{start:{line:5,column:18},end:{line:5,column:84}},type:"cond-expr",locations:[{start:{line:5,column:34},end:{line:5,column:47}},{start:{line:5,column:50},end:{line:5,column:84}}],line:5},"6":{loc:{start:{line:5,column:50},end:{line:5,column:84}},type:"binary-expr",locations:[{start:{line:5,column:50},end:{line:5,column:63}},{start:{line:5,column:67},end:{line:5,column:84}}],line:5},"7":{loc:{start:{line:10,column:4},end:{line:10,column:33}},type:"if",locations:[{start:{line:10,column:4},end:{line:10,column:33}},{start:{line:10,column:4},end:{line:10,column:33}}],line:10},"8":{loc:{start:{line:13,column:25},end:{line:17,column:2}},type:"binary-expr",locations:[{start:{line:13,column:26},end:{line:13,column:30}},{start:{line:13,column:34},end:{line:13,column:57}},{start:{line:13,column:63},end:{line:17,column:1}}],line:13},"9":{loc:{start:{line:13,column:63},end:{line:17,column:1}},type:"cond-expr",locations:[{start:{line:13,column:80},end:{line:15,column:1}},{start:{line:15,column:5},end:{line:17,column:1}}],line:13},"10":{loc:{start:{line:18,column:19},end:{line:24,column:1}},type:"binary-expr",locations:[{start:{line:18,column:20},end:{line:18,column:24}},{start:{line:18,column:28},end:{line:18,column:45}},{start:{line:18,column:50},end:{line:24,column:1}}],line:18},"11":{loc:{start:{line:19,column:4},end:{line:19,column:42}},type:"if",locations:[{start:{line:19,column:4},end:{line:19,column:42}},{start:{line:19,column:4},end:{line:19,column:42}}],line:19},"12":{loc:{start:{line:19,column:8},end:{line:19,column:29}},type:"binary-expr",locations:[{start:{line:19,column:8},end:{line:19,column:11}},{start:{line:19,column:15},end:{line:19,column:29}}],line:19},"13":{loc:{start:{line:21,column:4},end:{line:21,column:141}},type:"if",locations:[{start:{line:21,column:4},end:{line:21,column:141}},{start:{line:21,column:4},end:{line:21,column:141}}],line:21},"14":{loc:{start:{line:21,column:40},end:{line:21,column:141}},type:"if",locations:[{start:{line:21,column:40},end:{line:21,column:141}},{start:{line:21,column:40},end:{line:21,column:141}}],line:21},"15":{loc:{start:{line:21,column:44},end:{line:21,column:107}},type:"binary-expr",locations:[{start:{line:21,column:44},end:{line:21,column:59}},{start:{line:21,column:63},end:{line:21,column:107}}],line:21},"16":{loc:{start:{line:25,column:16},end:{line:33,column:1}},type:"binary-expr",locations:[{start:{line:25,column:17},end:{line:25,column:21}},{start:{line:25,column:25},end:{line:25,column:39}},{start:{line:25,column:44},end:{line:33,column:1}}],line:25},"17":{loc:{start:{line:26,column:35},end:{line:26,column:109}},type:"cond-expr",locations:[{start:{line:26,column:56},end:{line:26,column:61}},{start:{line:26,column:64},end:{line:26,column:109}}],line:26},"18":{loc:{start:{line:27,column:16},end:{line:27,column:34}},type:"binary-expr",locations:[{start:{line:27,column:16},end:{line:27,column:17}},{start:{line:27,column:22},end:{line:27,column:33}}],line:27},"19":{loc:{start:{line:30,column:32},end:{line:30,column:115}},type:"cond-expr",locations:[{start:{line:30,column:46},end:{line:30,column:67}},{start:{line:30,column:70},end:{line:30,column:115}}],line:30},"20":{loc:{start:{line:31,column:51},end:{line:31,column:67}},type:"binary-expr",locations:[{start:{line:31,column:51},end:{line:31,column:61}},{start:{line:31,column:65},end:{line:31,column:67}}],line:31},"21":{loc:{start:{line:34,column:18},end:{line:60,column:1}},type:"binary-expr",locations:[{start:{line:34,column:19},end:{line:34,column:23}},{start:{line:34,column:27},end:{line:34,column:43}},{start:{line:34,column:48},end:{line:60,column:1}}],line:34},"22":{loc:{start:{line:35,column:43},end:{line:35,column:68}},type:"if",locations:[{start:{line:35,column:43},end:{line:35,column:68}},{start:{line:35,column:43},end:{line:35,column:68}}],line:35},"23":{loc:{start:{line:36,column:71},end:{line:36,column:153}},type:"binary-expr",locations:[{start:{line:36,column:71},end:{line:36,column:99}},{start:{line:36,column:104},end:{line:36,column:152}}],line:36},"24":{loc:{start:{line:39,column:8},end:{line:39,column:70}},type:"if",locations:[{start:{line:39,column:8},end:{line:39,column:70}},{start:{line:39,column:8},end:{line:39,column:70}}],line:39},"25":{loc:{start:{line:40,column:15},end:{line:40,column:45}},type:"binary-expr",locations:[{start:{line:40,column:15},end:{line:40,column:16}},{start:{line:40,column:21},end:{line:40,column:44}}],line:40},"26":{loc:{start:{line:40,column:28},end:{line:40,column:44}},type:"binary-expr",locations:[{start:{line:40,column:28},end:{line:40,column:33}},{start:{line:40,column:38},end:{line:40,column:43}}],line:40},"27":{loc:{start:{line:41,column:12},end:{line:41,column:169}},type:"if",locations:[{start:{line:41,column:12},end:{line:41,column:169}},{start:{line:41,column:12},end:{line:41,column:169}}],line:41},"28":{loc:{start:{line:41,column:23},end:{line:41,column:158}},type:"binary-expr",locations:[{start:{line:41,column:23},end:{line:41,column:24}},{start:{line:41,column:29},end:{line:41,column:125}},{start:{line:41,column:130},end:{line:41,column:158}}],line:41},"29":{loc:{start:{line:41,column:33},end:{line:41,column:125}},type:"cond-expr",locations:[{start:{line:41,column:45},end:{line:41,column:56}},{start:{line:41,column:59},end:{line:41,column:125}}],line:41},"30":{loc:{start:{line:41,column:59},end:{line:41,column:125}},type:"cond-expr",locations:[{start:{line:41,column:67},end:{line:41,column:116}},{start:{line:41,column:119},end:{line:41,column:125}}],line:41},"31":{loc:{start:{line:41,column:67},end:{line:41,column:116}},type:"binary-expr",locations:[{start:{line:41,column:67},end:{line:41,column:77}},{start:{line:41,column:82},end:{line:41,column:115}}],line:41},"32":{loc:{start:{line:41,column:82},end:{line:41,column:112}},type:"binary-expr",locations:[{start:{line:41,column:83},end:{line:41,column:98}},{start:{line:41,column:103},end:{line:41,column:112}}],line:41},"33":{loc:{start:{line:42,column:12},end:{line:42,column:52}},type:"if",locations:[{start:{line:42,column:12},end:{line:42,column:52}},{start:{line:42,column:12},end:{line:42,column:52}}],line:42},"34":{loc:{start:{line:43,column:12},end:{line:55,column:13}},type:"switch",locations:[{start:{line:44,column:16},end:{line:44,column:23}},{start:{line:44,column:24},end:{line:44,column:46}},{start:{line:45,column:16},end:{line:45,column:72}},{start:{line:46,column:16},end:{line:46,column:65}},{start:{line:47,column:16},end:{line:47,column:65}},{start:{line:48,column:16},end:{line:54,column:43}}],line:43},"35":{loc:{start:{line:49,column:20},end:{line:49,column:128}},type:"if",locations:[{start:{line:49,column:20},end:{line:49,column:128}},{start:{line:49,column:20},end:{line:49,column:128}}],line:49},"36":{loc:{start:{line:49,column:24},end:{line:49,column:106}},type:"binary-expr",locations:[{start:{line:49,column:24},end:{line:49,column:74}},{start:{line:49,column:79},end:{line:49,column:90}},{start:{line:49,column:94},end:{line:49,column:105}}],line:49},"37":{loc:{start:{line:49,column:42},end:{line:49,column:73}},type:"binary-expr",locations:[{start:{line:49,column:42},end:{line:49,column:54}},{start:{line:49,column:58},end:{line:49,column:73}}],line:49},"38":{loc:{start:{line:50,column:20},end:{line:50,column:106}},type:"if",locations:[{start:{line:50,column:20},end:{line:50,column:106}},{start:{line:50,column:20},end:{line:50,column:106}}],line:50},"39":{loc:{start:{line:50,column:24},end:{line:50,column:77}},type:"binary-expr",locations:[{start:{line:50,column:24},end:{line:50,column:35}},{start:{line:50,column:40},end:{line:50,column:42}},{start:{line:50,column:47},end:{line:50,column:59}},{start:{line:50,column:63},end:{line:50,column:75}}],line:50},"40":{loc:{start:{line:51,column:20},end:{line:51,column:89}},type:"if",locations:[{start:{line:51,column:20},end:{line:51,column:89}},{start:{line:51,column:20},end:{line:51,column:89}}],line:51},"41":{loc:{start:{line:51,column:24},end:{line:51,column:53}},type:"binary-expr",locations:[{start:{line:51,column:24},end:{line:51,column:35}},{start:{line:51,column:39},end:{line:51,column:53}}],line:51},"42":{loc:{start:{line:52,column:20},end:{line:52,column:87}},type:"if",locations:[{start:{line:52,column:20},end:{line:52,column:87}},{start:{line:52,column:20},end:{line:52,column:87}}],line:52},"43":{loc:{start:{line:52,column:24},end:{line:52,column:43}},type:"binary-expr",locations:[{start:{line:52,column:24},end:{line:52,column:25}},{start:{line:52,column:29},end:{line:52,column:43}}],line:52},"44":{loc:{start:{line:53,column:20},end:{line:53,column:42}},type:"if",locations:[{start:{line:53,column:20},end:{line:53,column:42}},{start:{line:53,column:20},end:{line:53,column:42}}],line:53},"45":{loc:{start:{line:58,column:8},end:{line:58,column:35}},type:"if",locations:[{start:{line:58,column:8},end:{line:58,column:35}},{start:{line:58,column:8},end:{line:58,column:35}}],line:58},"46":{loc:{start:{line:58,column:52},end:{line:58,column:74}},type:"cond-expr",locations:[{start:{line:58,column:60},end:{line:58,column:65}},{start:{line:58,column:68},end:{line:58,column:74}}],line:58},"47":{loc:{start:{line:61,column:22},end:{line:63,column:1}},type:"binary-expr",locations:[{start:{line:61,column:23},end:{line:61,column:27}},{start:{line:61,column:31},end:{line:61,column:51}},{start:{line:61,column:56},end:{line:63,column:1}}],line:61},"48":{loc:{start:{line:62,column:11},end:{line:62,column:61}},type:"cond-expr",locations:[{start:{line:62,column:37},end:{line:62,column:40}},{start:{line:62,column:43},end:{line:62,column:61}}],line:62},"49":{loc:{start:{line:62,column:12},end:{line:62,column:33}},type:"binary-expr",locations:[{start:{line:62,column:12},end:{line:62,column:15}},{start:{line:62,column:19},end:{line:62,column:33}}],line:62},"50":{loc:{start:{line:78,column:12},end:{line:96,column:13}},type:"switch",locations:[{start:{line:79,column:16},end:{line:79,column:86}},{start:{line:80,column:16},end:{line:95,column:42}}],line:78},"51":{loc:{start:{line:104,column:12},end:{line:138,column:13}},type:"switch",locations:[{start:{line:105,column:16},end:{line:110,column:94}},{start:{line:111,column:16},end:{line:116,column:33}},{start:{line:117,column:16},end:{line:120,column:82}},{start:{line:121,column:16},end:{line:130,column:83}},{start:{line:131,column:16},end:{line:133,column:70}},{start:{line:134,column:16},end:{line:136,column:53}},{start:{line:137,column:16},end:{line:137,column:46}}],line:104},"52":{loc:{start:{line:107,column:20},end:{line:109,column:21}},type:"if",locations:[{start:{line:107,column:20},end:{line:109,column:21}},{start:{line:107,column:20},end:{line:109,column:21}}],line:107},"53":{loc:{start:{line:113,column:20},end:{line:115,column:21}},type:"if",locations:[{start:{line:113,column:20},end:{line:115,column:21}},{start:{line:113,column:20},end:{line:115,column:21}}],line:113},"54":{loc:{start:{line:147,column:12},end:{line:207,column:13}},type:"switch",locations:[{start:{line:148,column:16},end:{line:153,column:83}},{start:{line:154,column:16},end:{line:159,column:96}},{start:{line:160,column:16},end:{line:165,column:33}},{start:{line:166,column:16},end:{line:179,column:36}},{start:{line:180,column:16},end:{line:195,column:75}},{start:{line:196,column:16},end:{line:202,column:27}},{start:{line:203,column:16},end:{line:205,column:53}},{start:{line:206,column:16},end:{line:206,column:46}}],line:147},"55":{loc:{start:{line:150,column:20},end:{line:152,column:21}},type:"if",locations:[{start:{line:150,column:20},end:{line:152,column:21}},{start:{line:150,column:20},end:{line:152,column:21}}],line:150},"56":{loc:{start:{line:156,column:20},end:{line:158,column:21}},type:"if",locations:[{start:{line:156,column:20},end:{line:158,column:21}},{start:{line:156,column:20},end:{line:158,column:21}}],line:156},"57":{loc:{start:{line:162,column:20},end:{line:164,column:21}},type:"if",locations:[{start:{line:162,column:20},end:{line:164,column:21}},{start:{line:162,column:20},end:{line:164,column:21}}],line:162},"58":{loc:{start:{line:182,column:20},end:{line:184,column:21}},type:"if",locations:[{start:{line:182,column:20},end:{line:184,column:21}},{start:{line:182,column:20},end:{line:184,column:21}}],line:182},"59":{loc:{start:{line:216,column:12},end:{line:248,column:13}},type:"switch",locations:[{start:{line:217,column:16},end:{line:225,column:36}},{start:{line:226,column:16},end:{line:240,column:28}},{start:{line:241,column:16},end:{line:247,column:27}}],line:216},"60":{loc:{start:{line:219,column:20},end:{line:221,column:21}},type:"if",locations:[{start:{line:219,column:20},end:{line:221,column:21}},{start:{line:219,column:20},end:{line:221,column:21}}],line:219},"61":{loc:{start:{line:228,column:20},end:{line:230,column:21}},type:"if",locations:[{start:{line:228,column:20},end:{line:230,column:21}},{start:{line:228,column:20},end:{line:230,column:21}}],line:228},"62":{loc:{start:{line:257,column:12},end:{line:272,column:13}},type:"switch",locations:[{start:{line:258,column:16},end:{line:258,column:72}},{start:{line:259,column:16},end:{line:262,column:56}},{start:{line:263,column:16},end:{line:267,column:84}},{start:{line:268,column:16},end:{line:271,column:46}}],line:257}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},b:{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0,0,0,0,0],"35":[0,0],"36":[0,0,0],"37":[0,0],"38":[0,0],"39":[0,0,0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0,0,0,0,0,0],"52":[0,0],"53":[0,0],"54":[0,0,0,0,0,0,0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0,0],"60":[0,0],"61":[0,0],"62":[0,0,0,0]},inputSourceMap:{version:3,file:"/Users/yusramahomed/Desktop/SENG2021/se2021-23t1-einvoicing-api-h10a_CHEESECAKE-storage-api/src/functions/auth.ts",sources:["/Users/yusramahomed/Desktop/SENG2021/se2021-23t1-einvoicing-api-h10a_CHEESECAKE-storage-api/src/functions/auth.ts"],names:[],mappings:"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",sourcesContent:["import { getData, setData } from \"../db\";\nimport { db } from \"../config/firebase\";\n\nimport {\n  queryLoginValid,\n  queryUserByEmail,\n  queryUserCount,\n} from \"../service/UserTable\";\nimport {\n  queryUserByCompanyKey,\n  queryCompanyExists,\n  queryCompanyCount,\n} from \"../service/CompanyTable\";\nimport * as EmailValidator from \"email-validator\";\nimport HTTPError from \"http-errors\";\nimport bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport { updateSetAccessor } from \"typescript\";\nimport { nanoid } from \"nanoid\";\nimport { exit } from \"process\";\n\nasync function authenticateFromDB(token: string) {\n  // connect to db\n  const data = await db.collection(\"users\").get();\n\n  try {\n    console.log(\"HELLOOOO\");\n    const decodedToken = jwt.verify(token, \"cheesecake\") as jwt.JwtPayload;\n    // iterate over users\n    // if (!user) {\n    //   throw HTTPError(400, \"Invalid token.\");\n    // }\n\n    // return a user id\n    return decodedToken.userId;\n  } catch {\n    throw HTTPError(403, \"Invalid token.\");\n  }\n}\n\nasync function authRegisterCompany(\n  companyName: string,\n  companyEmail: string,\n  numEmployees: number,\n  ABN: number\n) {\n  // invalid email\n  if (!EmailValidator.validate(companyEmail)) {\n    throw HTTPError(400, \"Email is invalid.\");\n  }\n\n  // // invalid ABN\n  // if (!isValidABN(ABN)) {\n  //   throw HTTPError(400, 'ABN is invalid.');\n  // }\n\n  // check if company already exists\n  const exists = await queryCompanyExists(companyName);\n  if (exists) {\n    throw HTTPError(400, \"Company already registered.\");\n  }\n\n  try {\n    const company = db.collection(\"companies\");\n\n    // not secure but helpful for early testing\n    const companyKey = await queryCompanyCount();\n\n    const newCompany = {\n      companyName: companyName,\n      companyEmail: companyEmail,\n      companyKey: companyKey,\n      numEmployees: numEmployees,\n      ABN: ABN,\n    };\n\n    await company.doc(companyName).set(newCompany);\n    return { companyKey: companyKey };\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n\nasync function authRegister(\n  email: string,\n  password: string,\n  name: string,\n  companyKey: string\n) {\n  // invalid email\n  if (!EmailValidator.validate(email)) {\n    throw HTTPError(400, \"Email is invalid.\");\n  }\n\n  //  check if email already exists\n  const emailAlreadyExists = await queryUserByEmail(email);\n  if (emailAlreadyExists) {\n    throw HTTPError(400, \"Email already registered.\");\n  }\n\n  // invalid companyKey\n  const companyKeyExists = await queryUserByCompanyKey(companyKey);\n  if (!companyKeyExists) {\n    throw HTTPError(400, \"Invalid company key.\");\n  }\n\n  try {\n    //TODO tokenize password\n\n    const user = db.collection(\"users\");\n\n    const userId = nanoid();\n\n    // password encryption\n    const saltRounds = 10;\n    const salt = bcrypt.genSaltSync(saltRounds);\n    const hash = bcrypt.hashSync(password, salt);\n\n    // tokens\n    const token = jwt.sign({ userId: userId }, \"cheesecake\", {\n      expiresIn: \"1d\",\n    });\n\n    //find compnayName based in company key \n    const querySnapshot = await db\n    .collection(\"companies\")\n    .where(\"companyKey\", \"==\", companyKey)\n    .get();\n    if (querySnapshot.empty) {\n      throw HTTPError(400, \"company name doesnt exist or sth\");\n    }\n\n    const companyData = querySnapshot.docs[0].data();\n\n    const userObject = {\n      userId,\n      email,\n      hash,\n      name,\n      \"companyName\": companyData.companyName,\n      tokens: [token],\n    };\n\n    // set in database\n    await user.doc(userId).set(userObject);\n\n    return {\n      token: token,\n      userId: userId,\n    };\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n\nasync function authLogin(email: string, password: string) {\n  // Check email and password are valid\n  if (!queryLoginValid) {\n    throw HTTPError(400, \"Invalid email or password.\");\n  }\n\n  const querySnapshot = await db\n    .collection(\"users\")\n    .where(\"email\", \"==\", email)\n    .get();\n  if (querySnapshot.empty) {\n    throw HTTPError(401, \"Invalid user.\");\n  }\n  //console.log(\"ugh\", querySnapshot);\n  const userData = querySnapshot.docs[0].data();\n  //console.log(\"pls\", userData);\n  const token = jwt.sign({ userId: userData.userId }, \"cheesecake\", {\n    expiresIn: \"1d\",\n  });\n\n  // Append new token to the existing token array\n  userData.tokens.push(token);\n\n  // Update user document in Firebase\n  await db.collection(\"users\").doc(userData.userId).update({\n    tokens: userData.tokens,\n  });\n\n  \n\n  return {\n    token: token,\n    userId: userData.userId,\n  };\n}\n\nasync function authLogout(token: string) {\n  const userId = await authenticateFromDB(token);\n  // find user in db\n  const userRef = db.collection(\"users\").doc(userId);\n  const userDoc = await userRef.get();\n\n  // remove token from user object for that particular user\n  const updatedTokens = userDoc.data().tokens.filter((t) => t !== token);\n\n  // update user object in db\n  await userRef.update({ tokens: updatedTokens });\n\n  return {};\n}\n\nexport { authRegister, authLogin, authLogout, authRegisterCompany };\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7fd45c772e3763cd4c59127067645a24fdad90f5"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_10tis6q3m4=function(){return actualCoverage;};}return actualCoverage;}cov_10tis6q3m4();var __createBinding=(cov_10tis6q3m4().s[0]++,(cov_10tis6q3m4().b[0][0]++,this)&&(cov_10tis6q3m4().b[0][1]++,this.__createBinding)||(cov_10tis6q3m4().b[0][2]++,Object.create?(cov_10tis6q3m4().b[1][0]++,function(o,m,k,k2){cov_10tis6q3m4().f[0]++;cov_10tis6q3m4().s[1]++;if(k2===undefined){cov_10tis6q3m4().b[2][0]++;cov_10tis6q3m4().s[2]++;k2=k;}else{cov_10tis6q3m4().b[2][1]++;}var desc=(cov_10tis6q3m4().s[3]++,Object.getOwnPropertyDescriptor(m,k));cov_10tis6q3m4().s[4]++;if((cov_10tis6q3m4().b[4][0]++,!desc)||(cov_10tis6q3m4().b[4][1]++,"get"in desc?(cov_10tis6q3m4().b[5][0]++,!m.__esModule):(cov_10tis6q3m4().b[5][1]++,(cov_10tis6q3m4().b[6][0]++,desc.writable)||(cov_10tis6q3m4().b[6][1]++,desc.configurable)))){cov_10tis6q3m4().b[3][0]++;cov_10tis6q3m4().s[5]++;desc={enumerable:true,get:function(){cov_10tis6q3m4().f[1]++;cov_10tis6q3m4().s[6]++;return m[k];}};}else{cov_10tis6q3m4().b[3][1]++;}cov_10tis6q3m4().s[7]++;Object.defineProperty(o,k2,desc);}):(cov_10tis6q3m4().b[1][1]++,function(o,m,k,k2){cov_10tis6q3m4().f[2]++;cov_10tis6q3m4().s[8]++;if(k2===undefined){cov_10tis6q3m4().b[7][0]++;cov_10tis6q3m4().s[9]++;k2=k;}else{cov_10tis6q3m4().b[7][1]++;}cov_10tis6q3m4().s[10]++;o[k2]=m[k];})));var __setModuleDefault=(cov_10tis6q3m4().s[11]++,(cov_10tis6q3m4().b[8][0]++,this)&&(cov_10tis6q3m4().b[8][1]++,this.__setModuleDefault)||(cov_10tis6q3m4().b[8][2]++,Object.create?(cov_10tis6q3m4().b[9][0]++,function(o,v){cov_10tis6q3m4().f[3]++;cov_10tis6q3m4().s[12]++;Object.defineProperty(o,"default",{enumerable:true,value:v});}):(cov_10tis6q3m4().b[9][1]++,function(o,v){cov_10tis6q3m4().f[4]++;cov_10tis6q3m4().s[13]++;o["default"]=v;})));var __importStar=(cov_10tis6q3m4().s[14]++,(cov_10tis6q3m4().b[10][0]++,this)&&(cov_10tis6q3m4().b[10][1]++,this.__importStar)||(cov_10tis6q3m4().b[10][2]++,function(mod){cov_10tis6q3m4().f[5]++;cov_10tis6q3m4().s[15]++;if((cov_10tis6q3m4().b[12][0]++,mod)&&(cov_10tis6q3m4().b[12][1]++,mod.__esModule)){cov_10tis6q3m4().b[11][0]++;cov_10tis6q3m4().s[16]++;return mod;}else{cov_10tis6q3m4().b[11][1]++;}var result=(cov_10tis6q3m4().s[17]++,{});cov_10tis6q3m4().s[18]++;if(mod!=null){cov_10tis6q3m4().b[13][0]++;cov_10tis6q3m4().s[19]++;for(var k in mod){cov_10tis6q3m4().s[20]++;if((cov_10tis6q3m4().b[15][0]++,k!=="default")&&(cov_10tis6q3m4().b[15][1]++,Object.prototype.hasOwnProperty.call(mod,k))){cov_10tis6q3m4().b[14][0]++;cov_10tis6q3m4().s[21]++;__createBinding(result,mod,k);}else{cov_10tis6q3m4().b[14][1]++;}}}else{cov_10tis6q3m4().b[13][1]++;}cov_10tis6q3m4().s[22]++;__setModuleDefault(result,mod);cov_10tis6q3m4().s[23]++;return result;}));var __awaiter=(cov_10tis6q3m4().s[24]++,(cov_10tis6q3m4().b[16][0]++,this)&&(cov_10tis6q3m4().b[16][1]++,this.__awaiter)||(cov_10tis6q3m4().b[16][2]++,function(thisArg,_arguments,P,generator){cov_10tis6q3m4().f[6]++;function adopt(value){cov_10tis6q3m4().f[7]++;cov_10tis6q3m4().s[25]++;return value instanceof P?(cov_10tis6q3m4().b[17][0]++,value):(cov_10tis6q3m4().b[17][1]++,new P(function(resolve){cov_10tis6q3m4().f[8]++;cov_10tis6q3m4().s[26]++;resolve(value);}));}cov_10tis6q3m4().s[27]++;return new((cov_10tis6q3m4().b[18][0]++,P)||(cov_10tis6q3m4().b[18][1]++,P=Promise))(function(resolve,reject){cov_10tis6q3m4().f[9]++;function fulfilled(value){cov_10tis6q3m4().f[10]++;cov_10tis6q3m4().s[28]++;try{cov_10tis6q3m4().s[29]++;step(generator.next(value));}catch(e){cov_10tis6q3m4().s[30]++;reject(e);}}function rejected(value){cov_10tis6q3m4().f[11]++;cov_10tis6q3m4().s[31]++;try{cov_10tis6q3m4().s[32]++;step(generator["throw"](value));}catch(e){cov_10tis6q3m4().s[33]++;reject(e);}}function step(result){cov_10tis6q3m4().f[12]++;cov_10tis6q3m4().s[34]++;result.done?(cov_10tis6q3m4().b[19][0]++,resolve(result.value)):(cov_10tis6q3m4().b[19][1]++,adopt(result.value).then(fulfilled,rejected));}cov_10tis6q3m4().s[35]++;step((generator=generator.apply(thisArg,(cov_10tis6q3m4().b[20][0]++,_arguments)||(cov_10tis6q3m4().b[20][1]++,[]))).next());});}));var __generator=(cov_10tis6q3m4().s[36]++,(cov_10tis6q3m4().b[21][0]++,this)&&(cov_10tis6q3m4().b[21][1]++,this.__generator)||(cov_10tis6q3m4().b[21][2]++,function(thisArg,body){cov_10tis6q3m4().f[13]++;var _=(cov_10tis6q3m4().s[37]++,{label:0,sent:function(){cov_10tis6q3m4().f[14]++;cov_10tis6q3m4().s[38]++;if(t[0]&1){cov_10tis6q3m4().b[22][0]++;cov_10tis6q3m4().s[39]++;throw t[1];}else{cov_10tis6q3m4().b[22][1]++;}cov_10tis6q3m4().s[40]++;return t[1];},trys:[],ops:[]}),f,y,t,g;cov_10tis6q3m4().s[41]++;return g={next:verb(0),"throw":verb(1),"return":verb(2)},(cov_10tis6q3m4().b[23][0]++,typeof Symbol==="function")&&(cov_10tis6q3m4().b[23][1]++,g[Symbol.iterator]=function(){cov_10tis6q3m4().f[15]++;cov_10tis6q3m4().s[42]++;return this;}),g;function verb(n){cov_10tis6q3m4().f[16]++;cov_10tis6q3m4().s[43]++;return function(v){cov_10tis6q3m4().f[17]++;cov_10tis6q3m4().s[44]++;return step([n,v]);};}function step(op){cov_10tis6q3m4().f[18]++;cov_10tis6q3m4().s[45]++;if(f){cov_10tis6q3m4().b[24][0]++;cov_10tis6q3m4().s[46]++;throw new TypeError("Generator is already executing.");}else{cov_10tis6q3m4().b[24][1]++;}cov_10tis6q3m4().s[47]++;while((cov_10tis6q3m4().b[25][0]++,g)&&(cov_10tis6q3m4().b[25][1]++,(g=0,(cov_10tis6q3m4().b[26][0]++,op[0])&&(cov_10tis6q3m4().b[26][1]++,_=0))),_){cov_10tis6q3m4().s[48]++;try{cov_10tis6q3m4().s[49]++;if(f=1,(cov_10tis6q3m4().b[28][0]++,y)&&(cov_10tis6q3m4().b[28][1]++,t=op[0]&2?(cov_10tis6q3m4().b[29][0]++,y["return"]):(cov_10tis6q3m4().b[29][1]++,op[0]?(cov_10tis6q3m4().b[30][0]++,(cov_10tis6q3m4().b[31][0]++,y["throw"])||(cov_10tis6q3m4().b[31][1]++,((cov_10tis6q3m4().b[32][0]++,t=y["return"])&&(cov_10tis6q3m4().b[32][1]++,t.call(y)),0))):(cov_10tis6q3m4().b[30][1]++,y.next)))&&(cov_10tis6q3m4().b[28][2]++,!(t=t.call(y,op[1])).done)){cov_10tis6q3m4().b[27][0]++;cov_10tis6q3m4().s[50]++;return t;}else{cov_10tis6q3m4().b[27][1]++;}cov_10tis6q3m4().s[51]++;if(y=0,t){cov_10tis6q3m4().b[33][0]++;cov_10tis6q3m4().s[52]++;op=[op[0]&2,t.value];}else{cov_10tis6q3m4().b[33][1]++;}cov_10tis6q3m4().s[53]++;switch(op[0]){case 0:cov_10tis6q3m4().b[34][0]++;case 1:cov_10tis6q3m4().b[34][1]++;cov_10tis6q3m4().s[54]++;t=op;cov_10tis6q3m4().s[55]++;break;case 4:cov_10tis6q3m4().b[34][2]++;cov_10tis6q3m4().s[56]++;_.label++;cov_10tis6q3m4().s[57]++;return{value:op[1],done:false};case 5:cov_10tis6q3m4().b[34][3]++;cov_10tis6q3m4().s[58]++;_.label++;cov_10tis6q3m4().s[59]++;y=op[1];cov_10tis6q3m4().s[60]++;op=[0];cov_10tis6q3m4().s[61]++;continue;case 7:cov_10tis6q3m4().b[34][4]++;cov_10tis6q3m4().s[62]++;op=_.ops.pop();cov_10tis6q3m4().s[63]++;_.trys.pop();cov_10tis6q3m4().s[64]++;continue;default:cov_10tis6q3m4().b[34][5]++;cov_10tis6q3m4().s[65]++;if((cov_10tis6q3m4().b[36][0]++,!(t=_.trys,t=(cov_10tis6q3m4().b[37][0]++,t.length>0)&&(cov_10tis6q3m4().b[37][1]++,t[t.length-1])))&&((cov_10tis6q3m4().b[36][1]++,op[0]===6)||(cov_10tis6q3m4().b[36][2]++,op[0]===2))){cov_10tis6q3m4().b[35][0]++;cov_10tis6q3m4().s[66]++;_=0;cov_10tis6q3m4().s[67]++;continue;}else{cov_10tis6q3m4().b[35][1]++;}cov_10tis6q3m4().s[68]++;if((cov_10tis6q3m4().b[39][0]++,op[0]===3)&&((cov_10tis6q3m4().b[39][1]++,!t)||(cov_10tis6q3m4().b[39][2]++,op[1]>t[0])&&(cov_10tis6q3m4().b[39][3]++,op[1]<t[3]))){cov_10tis6q3m4().b[38][0]++;cov_10tis6q3m4().s[69]++;_.label=op[1];cov_10tis6q3m4().s[70]++;break;}else{cov_10tis6q3m4().b[38][1]++;}cov_10tis6q3m4().s[71]++;if((cov_10tis6q3m4().b[41][0]++,op[0]===6)&&(cov_10tis6q3m4().b[41][1]++,_.label<t[1])){cov_10tis6q3m4().b[40][0]++;cov_10tis6q3m4().s[72]++;_.label=t[1];cov_10tis6q3m4().s[73]++;t=op;cov_10tis6q3m4().s[74]++;break;}else{cov_10tis6q3m4().b[40][1]++;}cov_10tis6q3m4().s[75]++;if((cov_10tis6q3m4().b[43][0]++,t)&&(cov_10tis6q3m4().b[43][1]++,_.label<t[2])){cov_10tis6q3m4().b[42][0]++;cov_10tis6q3m4().s[76]++;_.label=t[2];cov_10tis6q3m4().s[77]++;_.ops.push(op);cov_10tis6q3m4().s[78]++;break;}else{cov_10tis6q3m4().b[42][1]++;}cov_10tis6q3m4().s[79]++;if(t[2]){cov_10tis6q3m4().b[44][0]++;cov_10tis6q3m4().s[80]++;_.ops.pop();}else{cov_10tis6q3m4().b[44][1]++;}cov_10tis6q3m4().s[81]++;_.trys.pop();cov_10tis6q3m4().s[82]++;continue;}cov_10tis6q3m4().s[83]++;op=body.call(thisArg,_);}catch(e){cov_10tis6q3m4().s[84]++;op=[6,e];cov_10tis6q3m4().s[85]++;y=0;}finally{cov_10tis6q3m4().s[86]++;f=t=0;}}cov_10tis6q3m4().s[87]++;if(op[0]&5){cov_10tis6q3m4().b[45][0]++;cov_10tis6q3m4().s[88]++;throw op[1];}else{cov_10tis6q3m4().b[45][1]++;}cov_10tis6q3m4().s[89]++;return{value:op[0]?(cov_10tis6q3m4().b[46][0]++,op[1]):(cov_10tis6q3m4().b[46][1]++,void 0),done:true};}}));var __importDefault=(cov_10tis6q3m4().s[90]++,(cov_10tis6q3m4().b[47][0]++,this)&&(cov_10tis6q3m4().b[47][1]++,this.__importDefault)||(cov_10tis6q3m4().b[47][2]++,function(mod){cov_10tis6q3m4().f[19]++;cov_10tis6q3m4().s[91]++;return(cov_10tis6q3m4().b[49][0]++,mod)&&(cov_10tis6q3m4().b[49][1]++,mod.__esModule)?(cov_10tis6q3m4().b[48][0]++,mod):(cov_10tis6q3m4().b[48][1]++,{"default":mod});}));cov_10tis6q3m4().s[92]++;Object.defineProperty(exports,"__esModule",{value:true});cov_10tis6q3m4().s[93]++;exports.authRegisterCompany=exports.authLogout=exports.authLogin=exports.authRegister=void 0;var firebase_1=(cov_10tis6q3m4().s[94]++,require("../config/firebase"));var UserTable_1=(cov_10tis6q3m4().s[95]++,require("../service/UserTable"));var CompanyTable_1=(cov_10tis6q3m4().s[96]++,require("../service/CompanyTable"));var EmailValidator=(cov_10tis6q3m4().s[97]++,__importStar(require("email-validator")));var http_errors_1=(cov_10tis6q3m4().s[98]++,__importDefault(require("http-errors")));var bcrypt_1=(cov_10tis6q3m4().s[99]++,__importDefault(require("bcrypt")));var jsonwebtoken_1=(cov_10tis6q3m4().s[100]++,__importDefault(require("jsonwebtoken")));var nanoid_1=(cov_10tis6q3m4().s[101]++,require("nanoid"));function authenticateFromDB(token){cov_10tis6q3m4().f[20]++;cov_10tis6q3m4().s[102]++;return __awaiter(this,void 0,void 0,function(){cov_10tis6q3m4().f[21]++;var data,decodedToken;cov_10tis6q3m4().s[103]++;return __generator(this,function(_a){cov_10tis6q3m4().f[22]++;cov_10tis6q3m4().s[104]++;switch(_a.label){case 0:cov_10tis6q3m4().b[50][0]++;cov_10tis6q3m4().s[105]++;return[4/*yield*/,firebase_1.db.collection("users").get()];case 1:cov_10tis6q3m4().b[50][1]++;cov_10tis6q3m4().s[106]++;data=_a.sent();cov_10tis6q3m4().s[107]++;try{cov_10tis6q3m4().s[108]++;console.log("HELLOOOO");cov_10tis6q3m4().s[109]++;decodedToken=jsonwebtoken_1.default.verify(token,"cheesecake");// iterate over users
// if (!user) {
//   throw HTTPError(400, "Invalid token.");
// }
// return a user id
cov_10tis6q3m4().s[110]++;return[2/*return*/,decodedToken.userId];}catch(_b){cov_10tis6q3m4().s[111]++;throw(0,http_errors_1.default)(403,"Invalid token.");}cov_10tis6q3m4().s[112]++;return[2/*return*/];}});});}function authRegisterCompany(companyName,companyEmail,numEmployees,ABN){cov_10tis6q3m4().f[23]++;cov_10tis6q3m4().s[113]++;return __awaiter(this,void 0,void 0,function(){cov_10tis6q3m4().f[24]++;var exists,company,companyKey,newCompany,error_1;cov_10tis6q3m4().s[114]++;return __generator(this,function(_a){cov_10tis6q3m4().f[25]++;cov_10tis6q3m4().s[115]++;switch(_a.label){case 0:cov_10tis6q3m4().b[51][0]++;cov_10tis6q3m4().s[116]++;// invalid email
if(!EmailValidator.validate(companyEmail)){cov_10tis6q3m4().b[52][0]++;cov_10tis6q3m4().s[117]++;throw(0,http_errors_1.default)(400,"Email is invalid.");}else{cov_10tis6q3m4().b[52][1]++;}cov_10tis6q3m4().s[118]++;return[4/*yield*/,(0,CompanyTable_1.queryCompanyExists)(companyName)];case 1:cov_10tis6q3m4().b[51][1]++;cov_10tis6q3m4().s[119]++;exists=_a.sent();cov_10tis6q3m4().s[120]++;if(exists){cov_10tis6q3m4().b[53][0]++;cov_10tis6q3m4().s[121]++;throw(0,http_errors_1.default)(400,"Company already registered.");}else{cov_10tis6q3m4().b[53][1]++;}cov_10tis6q3m4().s[122]++;_a.label=2;case 2:cov_10tis6q3m4().b[51][2]++;cov_10tis6q3m4().s[123]++;_a.trys.push([2,5,,6]);cov_10tis6q3m4().s[124]++;company=firebase_1.db.collection("companies");cov_10tis6q3m4().s[125]++;return[4/*yield*/,(0,CompanyTable_1.queryCompanyCount)()];case 3:cov_10tis6q3m4().b[51][3]++;cov_10tis6q3m4().s[126]++;companyKey=_a.sent();cov_10tis6q3m4().s[127]++;newCompany={companyName:companyName,companyEmail:companyEmail,companyKey:companyKey,numEmployees:numEmployees,ABN:ABN};cov_10tis6q3m4().s[128]++;return[4/*yield*/,company.doc(companyName).set(newCompany)];case 4:cov_10tis6q3m4().b[51][4]++;cov_10tis6q3m4().s[129]++;_a.sent();cov_10tis6q3m4().s[130]++;return[2/*return*/,{companyKey:companyKey}];case 5:cov_10tis6q3m4().b[51][5]++;cov_10tis6q3m4().s[131]++;error_1=_a.sent();cov_10tis6q3m4().s[132]++;throw new Error(error_1.message);case 6:cov_10tis6q3m4().b[51][6]++;cov_10tis6q3m4().s[133]++;return[2/*return*/];}});});}cov_10tis6q3m4().s[134]++;exports.authRegisterCompany=authRegisterCompany;function authRegister(email,password,name,companyKey){cov_10tis6q3m4().f[26]++;cov_10tis6q3m4().s[135]++;return __awaiter(this,void 0,void 0,function(){cov_10tis6q3m4().f[27]++;var emailAlreadyExists,companyKeyExists,user,userId,saltRounds,salt,hash,token,querySnapshot,companyData,userObject,error_2;cov_10tis6q3m4().s[136]++;return __generator(this,function(_a){cov_10tis6q3m4().f[28]++;cov_10tis6q3m4().s[137]++;switch(_a.label){case 0:cov_10tis6q3m4().b[54][0]++;cov_10tis6q3m4().s[138]++;// invalid email
if(!EmailValidator.validate(email)){cov_10tis6q3m4().b[55][0]++;cov_10tis6q3m4().s[139]++;throw(0,http_errors_1.default)(400,"Email is invalid.");}else{cov_10tis6q3m4().b[55][1]++;}cov_10tis6q3m4().s[140]++;return[4/*yield*/,(0,UserTable_1.queryUserByEmail)(email)];case 1:cov_10tis6q3m4().b[54][1]++;cov_10tis6q3m4().s[141]++;emailAlreadyExists=_a.sent();cov_10tis6q3m4().s[142]++;if(emailAlreadyExists){cov_10tis6q3m4().b[56][0]++;cov_10tis6q3m4().s[143]++;throw(0,http_errors_1.default)(400,"Email already registered.");}else{cov_10tis6q3m4().b[56][1]++;}cov_10tis6q3m4().s[144]++;return[4/*yield*/,(0,CompanyTable_1.queryUserByCompanyKey)(companyKey)];case 2:cov_10tis6q3m4().b[54][2]++;cov_10tis6q3m4().s[145]++;companyKeyExists=_a.sent();cov_10tis6q3m4().s[146]++;if(!companyKeyExists){cov_10tis6q3m4().b[57][0]++;cov_10tis6q3m4().s[147]++;throw(0,http_errors_1.default)(400,"Invalid company key.");}else{cov_10tis6q3m4().b[57][1]++;}cov_10tis6q3m4().s[148]++;_a.label=3;case 3:cov_10tis6q3m4().b[54][3]++;cov_10tis6q3m4().s[149]++;_a.trys.push([3,6,,7]);cov_10tis6q3m4().s[150]++;user=firebase_1.db.collection("users");cov_10tis6q3m4().s[151]++;userId=(0,nanoid_1.nanoid)();cov_10tis6q3m4().s[152]++;saltRounds=10;cov_10tis6q3m4().s[153]++;salt=bcrypt_1.default.genSaltSync(saltRounds);cov_10tis6q3m4().s[154]++;hash=bcrypt_1.default.hashSync(password,salt);cov_10tis6q3m4().s[155]++;token=jsonwebtoken_1.default.sign({userId:userId},"cheesecake",{expiresIn:"1d"});cov_10tis6q3m4().s[156]++;return[4/*yield*/,firebase_1.db.collection("companies").where("companyKey","==",companyKey).get()];case 4:cov_10tis6q3m4().b[54][4]++;cov_10tis6q3m4().s[157]++;querySnapshot=_a.sent();cov_10tis6q3m4().s[158]++;if(querySnapshot.empty){cov_10tis6q3m4().b[58][0]++;cov_10tis6q3m4().s[159]++;throw(0,http_errors_1.default)(400,"company name doesnt exist or sth");}else{cov_10tis6q3m4().b[58][1]++;}cov_10tis6q3m4().s[160]++;companyData=querySnapshot.docs[0].data();cov_10tis6q3m4().s[161]++;userObject={userId:userId,email:email,hash:hash,name:name,"companyName":companyData.companyName,tokens:[token]};// set in database
cov_10tis6q3m4().s[162]++;return[4/*yield*/,user.doc(userId).set(userObject)];case 5:cov_10tis6q3m4().b[54][5]++;cov_10tis6q3m4().s[163]++;// set in database
_a.sent();cov_10tis6q3m4().s[164]++;return[2/*return*/,{token:token,userId:userId}];case 6:cov_10tis6q3m4().b[54][6]++;cov_10tis6q3m4().s[165]++;error_2=_a.sent();cov_10tis6q3m4().s[166]++;throw new Error(error_2.message);case 7:cov_10tis6q3m4().b[54][7]++;cov_10tis6q3m4().s[167]++;return[2/*return*/];}});});}cov_10tis6q3m4().s[168]++;exports.authRegister=authRegister;function authLogin(email,password){cov_10tis6q3m4().f[29]++;cov_10tis6q3m4().s[169]++;return __awaiter(this,void 0,void 0,function(){cov_10tis6q3m4().f[30]++;var querySnapshot,userData,token;cov_10tis6q3m4().s[170]++;return __generator(this,function(_a){cov_10tis6q3m4().f[31]++;cov_10tis6q3m4().s[171]++;switch(_a.label){case 0:cov_10tis6q3m4().b[59][0]++;cov_10tis6q3m4().s[172]++;// Check email and password are valid
if(!UserTable_1.queryLoginValid){cov_10tis6q3m4().b[60][0]++;cov_10tis6q3m4().s[173]++;throw(0,http_errors_1.default)(400,"Invalid email or password.");}else{cov_10tis6q3m4().b[60][1]++;}cov_10tis6q3m4().s[174]++;return[4/*yield*/,firebase_1.db.collection("users").where("email","==",email).get()];case 1:cov_10tis6q3m4().b[59][1]++;cov_10tis6q3m4().s[175]++;querySnapshot=_a.sent();cov_10tis6q3m4().s[176]++;if(querySnapshot.empty){cov_10tis6q3m4().b[61][0]++;cov_10tis6q3m4().s[177]++;throw(0,http_errors_1.default)(401,"Invalid user.");}else{cov_10tis6q3m4().b[61][1]++;}cov_10tis6q3m4().s[178]++;userData=querySnapshot.docs[0].data();cov_10tis6q3m4().s[179]++;token=jsonwebtoken_1.default.sign({userId:userData.userId},"cheesecake",{expiresIn:"1d"});// Append new token to the existing token array
cov_10tis6q3m4().s[180]++;userData.tokens.push(token);// Update user document in Firebase
cov_10tis6q3m4().s[181]++;return[4/*yield*/,firebase_1.db.collection("users").doc(userData.userId).update({tokens:userData.tokens})];case 2:cov_10tis6q3m4().b[59][2]++;cov_10tis6q3m4().s[182]++;// Update user document in Firebase
_a.sent();cov_10tis6q3m4().s[183]++;return[2/*return*/,{token:token,userId:userData.userId}];}});});}cov_10tis6q3m4().s[184]++;exports.authLogin=authLogin;function authLogout(token){cov_10tis6q3m4().f[32]++;cov_10tis6q3m4().s[185]++;return __awaiter(this,void 0,void 0,function(){cov_10tis6q3m4().f[33]++;var userId,userRef,userDoc,updatedTokens;cov_10tis6q3m4().s[186]++;return __generator(this,function(_a){cov_10tis6q3m4().f[34]++;cov_10tis6q3m4().s[187]++;switch(_a.label){case 0:cov_10tis6q3m4().b[62][0]++;cov_10tis6q3m4().s[188]++;return[4/*yield*/,authenticateFromDB(token)];case 1:cov_10tis6q3m4().b[62][1]++;cov_10tis6q3m4().s[189]++;userId=_a.sent();cov_10tis6q3m4().s[190]++;userRef=firebase_1.db.collection("users").doc(userId);cov_10tis6q3m4().s[191]++;return[4/*yield*/,userRef.get()];case 2:cov_10tis6q3m4().b[62][2]++;cov_10tis6q3m4().s[192]++;userDoc=_a.sent();cov_10tis6q3m4().s[193]++;updatedTokens=userDoc.data().tokens.filter(function(t){cov_10tis6q3m4().f[35]++;cov_10tis6q3m4().s[194]++;return t!==token;});// update user object in db
cov_10tis6q3m4().s[195]++;return[4/*yield*/,userRef.update({tokens:updatedTokens})];case 3:cov_10tis6q3m4().b[62][3]++;cov_10tis6q3m4().s[196]++;// update user object in db
_a.sent();cov_10tis6q3m4().s[197]++;return[2/*return*/,{}];}});});}cov_10tis6q3m4().s[198]++;exports.authLogout=authLogout;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3l1c3JhbWFob21lZC9EZXNrdG9wL1NFTkcyMDIxL3NlMjAyMS0yM3QxLWVpbnZvaWNpbmctYXBpLWgxMGFfQ0hFRVNFQ0FLRS1zdG9yYWdlLWFwaS9zcmMvZnVuY3Rpb25zL2F1dGgudHMiLCJzb3VyY2VzIjpbIi9Vc2Vycy95dXNyYW1haG9tZWQvRGVza3RvcC9TRU5HMjAyMS9zZTIwMjEtMjN0MS1laW52b2ljaW5nLWFwaS1oMTBhX0NIRUVTRUNBS0Utc3RvcmFnZS1hcGkvc3JjL2Z1bmN0aW9ucy9hdXRoLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsK0NBQXdDO0FBRXhDLGtEQUk4QjtBQUM5Qix3REFJaUM7QUFDakMsOERBQWtEO0FBQ2xELDREQUFvQztBQUNwQyxrREFBNEI7QUFDNUIsOERBQStCO0FBRS9CLGlDQUFnQztBQUdoQyxTQUFlLGtCQUFrQixDQUFDLEtBQWE7Ozs7O3dCQUVoQyxxQkFBTSxhQUFFLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFBOztvQkFBekMsSUFBSSxHQUFHLFNBQWtDO29CQUUvQyxJQUFJO3dCQUNGLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7d0JBQ2xCLFlBQVksR0FBRyxzQkFBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsWUFBWSxDQUFtQixDQUFDO3dCQUN2RSxxQkFBcUI7d0JBQ3JCLGVBQWU7d0JBQ2YsNENBQTRDO3dCQUM1QyxJQUFJO3dCQUVKLG1CQUFtQjt3QkFDbkIsc0JBQU8sWUFBWSxDQUFDLE1BQU0sRUFBQztxQkFDNUI7b0JBQUMsV0FBTTt3QkFDTixNQUFNLElBQUEscUJBQVMsRUFBQyxHQUFHLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztxQkFDeEM7Ozs7O0NBQ0Y7QUFFRCxTQUFlLG1CQUFtQixDQUNoQyxX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QUFLLEtBQUssRUFBWCxDQUFXLENBQUMsQ0FBQztvQkFFdkUsMkJBQTJCO29CQUMzQixxQkFBTSxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRSxDQUFDLEVBQUE7O29CQUQvQywyQkFBMkI7b0JBQzNCLFNBQStDLENBQUM7b0JBRWhELHNCQUFPLEVBQUUsRUFBQzs7OztDQUNYO0FBRWlDLGdDQUFVIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RGF0YSwgc2V0RGF0YSB9IGZyb20gXCIuLi9kYlwiO1xuaW1wb3J0IHsgZGIgfSBmcm9tIFwiLi4vY29uZmlnL2ZpcmViYXNlXCI7XG5cbmltcG9ydCB7XG4gIHF1ZXJ5TG9naW5WYWxpZCxcbiAgcXVlcnlVc2VyQnlFbWFpbCxcbiAgcXVlcnlVc2VyQ291bnQsXG59IGZyb20gXCIuLi9zZXJ2aWNlL1VzZXJUYWJsZVwiO1xuaW1wb3J0IHtcbiAgcXVlcnlVc2VyQnlDb21wYW55S2V5LFxuICBxdWVyeUNvbXBhbnlFeGlzdHMsXG4gIHF1ZXJ5Q29tcGFueUNvdW50LFxufSBmcm9tIFwiLi4vc2VydmljZS9Db21wYW55VGFibGVcIjtcbmltcG9ydCAqIGFzIEVtYWlsVmFsaWRhdG9yIGZyb20gXCJlbWFpbC12YWxpZGF0b3JcIjtcbmltcG9ydCBIVFRQRXJyb3IgZnJvbSBcImh0dHAtZXJyb3JzXCI7XG5pbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IHsgdXBkYXRlU2V0QWNjZXNzb3IgfSBmcm9tIFwidHlwZXNjcmlwdFwiO1xuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSBcIm5hbm9pZFwiO1xuaW1wb3J0IHsgZXhpdCB9IGZyb20gXCJwcm9jZXNzXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZUZyb21EQih0b2tlbjogc3RyaW5nKSB7XG4gIC8vIGNvbm5lY3QgdG8gZGJcbiAgY29uc3QgZGF0YSA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKS5nZXQoKTtcblxuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKFwiSEVMTE9PT09cIik7XG4gICAgY29uc3QgZGVjb2RlZFRva2VuID0gand0LnZlcmlmeSh0b2tlbiwgXCJjaGVlc2VjYWtlXCIpIGFzIGp3dC5Kd3RQYXlsb2FkO1xuICAgIC8vIGl0ZXJhdGUgb3ZlciB1c2Vyc1xuICAgIC8vIGlmICghdXNlcikge1xuICAgIC8vICAgdGhyb3cgSFRUUEVycm9yKDQwMCwgXCJJbnZhbGlkIHRva2VuLlwiKTtcbiAgICAvLyB9XG5cbiAgICAvLyByZXR1cm4gYSB1c2VyIGlkXG4gICAgcmV0dXJuIGRlY29kZWRUb2tlbi51c2VySWQ7XG4gIH0gY2F0Y2gge1xuICAgIHRocm93IEhUVFBFcnJvcig0MDMsIFwiSW52YWxpZCB0b2tlbi5cIik7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gYXV0aFJlZ2lzdGVyQ29tcGFueShcbiAgY29tcGFueU5hbWU6IHN0cmluZyxcbiAgY29tcGFueUVtYWlsOiBzdHJpbmcsXG4gIG51bUVtcGxveWVlczogbnVtYmVyLFxuICBBQk46IG51bWJlclxuKSB7XG4gIC8vIGludmFsaWQgZW1haWxcbiAgaWYgKCFFbWFpbFZhbGlkYXRvci52YWxpZGF0ZShjb21wYW55RW1haWwpKSB7XG4gICAgdGhyb3cgSFRUUEVycm9yKDQwMCwgXCJFbWFpbCBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuXG4gIC8vIC8vIGludmFsaWQgQUJOXG4gIC8vIGlmICghaXNWYWxpZEFCTihBQk4pKSB7XG4gIC8vICAgdGhyb3cgSFRUUEVycm9yKDQwMCwgJ0FCTiBpcyBpbnZhbGlkLicpO1xuICAvLyB9XG5cbiAgLy8gY2hlY2sgaWYgY29tcGFueSBhbHJlYWR5IGV4aXN0c1xuICBjb25zdCBleGlzdHMgPSBhd2FpdCBxdWVyeUNvbXBhbnlFeGlzdHMoY29tcGFueU5hbWUpO1xuICBpZiAoZXhpc3RzKSB7XG4gICAgdGhyb3cgSFRUUEVycm9yKDQwMCwgXCJDb21wYW55IGFscmVhZHkgcmVnaXN0ZXJlZC5cIik7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGNvbXBhbnkgPSBkYi5jb2xsZWN0aW9uKFwiY29tcGFuaWVzXCIpO1xuXG4gICAgLy8gbm90IHNlY3VyZSBidXQgaGVscGZ1bCBmb3IgZWFybHkgdGVzdGluZ1xuICAgIGNvbnN0IGNvbXBhbnlLZXkgPSBhd2FpdCBxdWVyeUNvbXBhbnlDb3VudCgpO1xuXG4gICAgY29uc3QgbmV3Q29tcGFueSA9IHtcbiAgICAgIGNvbXBhbnlOYW1lOiBjb21wYW55TmFtZSxcbiAgICAgIGNvbXBhbnlFbWFpbDogY29tcGFueUVtYWlsLFxuICAgICAgY29tcGFueUtleTogY29tcGFueUtleSxcbiAgICAgIG51bUVtcGxveWVlczogbnVtRW1wbG95ZWVzLFxuICAgICAgQUJOOiBBQk4sXG4gICAgfTtcblxuICAgIGF3YWl0IGNvbXBhbnkuZG9jKGNvbXBhbnlOYW1lKS5zZXQobmV3Q29tcGFueSk7XG4gICAgcmV0dXJuIHsgY29tcGFueUtleTogY29tcGFueUtleSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBhdXRoUmVnaXN0ZXIoXG4gIGVtYWlsOiBzdHJpbmcsXG4gIHBhc3N3b3JkOiBzdHJpbmcsXG4gIG5hbWU6IHN0cmluZyxcbiAgY29tcGFueUtleTogc3RyaW5nXG4pIHtcbiAgLy8gaW52YWxpZCBlbWFpbFxuICBpZiAoIUVtYWlsVmFsaWRhdG9yLnZhbGlkYXRlKGVtYWlsKSkge1xuICAgIHRocm93IEhUVFBFcnJvcig0MDAsIFwiRW1haWwgaXMgaW52YWxpZC5cIik7XG4gIH1cblxuICAvLyAgY2hlY2sgaWYgZW1haWwgYWxyZWFkeSBleGlzdHNcbiAgY29uc3QgZW1haWxBbHJlYWR5RXhpc3RzID0gYXdhaXQgcXVlcnlVc2VyQnlFbWFpbChlbWFpbCk7XG4gIGlmIChlbWFpbEFscmVhZHlFeGlzdHMpIHtcbiAgICB0aHJvdyBIVFRQRXJyb3IoNDAwLCBcIkVtYWlsIGFscmVhZHkgcmVnaXN0ZXJlZC5cIik7XG4gIH1cblxuICAvLyBpbnZhbGlkIGNvbXBhbnlLZXlcbiAgY29uc3QgY29tcGFueUtleUV4aXN0cyA9IGF3YWl0IHF1ZXJ5VXNlckJ5Q29tcGFueUtleShjb21wYW55S2V5KTtcbiAgaWYgKCFjb21wYW55S2V5RXhpc3RzKSB7XG4gICAgdGhyb3cgSFRUUEVycm9yKDQwMCwgXCJJbnZhbGlkIGNvbXBhbnkga2V5LlwiKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy9UT0RPIHRva2VuaXplIHBhc3N3b3JkXG5cbiAgICBjb25zdCB1c2VyID0gZGIuY29sbGVjdGlvbihcInVzZXJzXCIpO1xuXG4gICAgY29uc3QgdXNlcklkID0gbmFub2lkKCk7XG5cbiAgICAvLyBwYXNzd29yZCBlbmNyeXB0aW9uXG4gICAgY29uc3Qgc2FsdFJvdW5kcyA9IDEwO1xuICAgIGNvbnN0IHNhbHQgPSBiY3J5cHQuZ2VuU2FsdFN5bmMoc2FsdFJvdW5kcyk7XG4gICAgY29uc3QgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhwYXNzd29yZCwgc2FsdCk7XG5cbiAgICAvLyB0b2tlbnNcbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgdXNlcklkOiB1c2VySWQgfSwgXCJjaGVlc2VjYWtlXCIsIHtcbiAgICAgIGV4cGlyZXNJbjogXCIxZFwiLFxuICAgIH0pO1xuXG4gICAgLy9maW5kIGNvbXBuYXlOYW1lIGJhc2VkIGluIGNvbXBhbnkga2V5IFxuICAgIGNvbnN0IHF1ZXJ5U25hcHNob3QgPSBhd2FpdCBkYlxuICAgIC5jb2xsZWN0aW9uKFwiY29tcGFuaWVzXCIpXG4gICAgLndoZXJlKFwiY29tcGFueUtleVwiLCBcIj09XCIsIGNvbXBhbnlLZXkpXG4gICAgLmdldCgpO1xuICAgIGlmIChxdWVyeVNuYXBzaG90LmVtcHR5KSB7XG4gICAgICB0aHJvdyBIVFRQRXJyb3IoNDAwLCBcImNvbXBhbnkgbmFtZSBkb2VzbnQgZXhpc3Qgb3Igc3RoXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbXBhbnlEYXRhID0gcXVlcnlTbmFwc2hvdC5kb2NzWzBdLmRhdGEoKTtcblxuICAgIGNvbnN0IHVzZXJPYmplY3QgPSB7XG4gICAgICB1c2VySWQsXG4gICAgICBlbWFpbCxcbiAgICAgIGhhc2gsXG4gICAgICBuYW1lLFxuICAgICAgXCJjb21wYW55TmFtZVwiOiBjb21wYW55RGF0YS5jb21wYW55TmFtZSxcbiAgICAgIHRva2VuczogW3Rva2VuXSxcbiAgICB9O1xuXG4gICAgLy8gc2V0IGluIGRhdGFiYXNlXG4gICAgYXdhaXQgdXNlci5kb2ModXNlcklkKS5zZXQodXNlck9iamVjdCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG9rZW46IHRva2VuLFxuICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gYXV0aExvZ2luKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpIHtcbiAgLy8gQ2hlY2sgZW1haWwgYW5kIHBhc3N3b3JkIGFyZSB2YWxpZFxuICBpZiAoIXF1ZXJ5TG9naW5WYWxpZCkge1xuICAgIHRocm93IEhUVFBFcnJvcig0MDAsIFwiSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZC5cIik7XG4gIH1cblxuICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZGJcbiAgICAuY29sbGVjdGlvbihcInVzZXJzXCIpXG4gICAgLndoZXJlKFwiZW1haWxcIiwgXCI9PVwiLCBlbWFpbClcbiAgICAuZ2V0KCk7XG4gIGlmIChxdWVyeVNuYXBzaG90LmVtcHR5KSB7XG4gICAgdGhyb3cgSFRUUEVycm9yKDQwMSwgXCJJbnZhbGlkIHVzZXIuXCIpO1xuICB9XG4gIC8vY29uc29sZS5sb2coXCJ1Z2hcIiwgcXVlcnlTbmFwc2hvdCk7XG4gIGNvbnN0IHVzZXJEYXRhID0gcXVlcnlTbmFwc2hvdC5kb2NzWzBdLmRhdGEoKTtcbiAgLy9jb25zb2xlLmxvZyhcInBsc1wiLCB1c2VyRGF0YSk7XG4gIGNvbnN0IHRva2VuID0gand0LnNpZ24oeyB1c2VySWQ6IHVzZXJEYXRhLnVzZXJJZCB9LCBcImNoZWVzZWNha2VcIiwge1xuICAgIGV4cGlyZXNJbjogXCIxZFwiLFxuICB9KTtcblxuICAvLyBBcHBlbmQgbmV3IHRva2VuIHRvIHRoZSBleGlzdGluZyB0b2tlbiBhcnJheVxuICB1c2VyRGF0YS50b2tlbnMucHVzaCh0b2tlbik7XG5cbiAgLy8gVXBkYXRlIHVzZXIgZG9jdW1lbnQgaW4gRmlyZWJhc2VcbiAgYXdhaXQgZGIuY29sbGVjdGlvbihcInVzZXJzXCIpLmRvYyh1c2VyRGF0YS51c2VySWQpLnVwZGF0ZSh7XG4gICAgdG9rZW5zOiB1c2VyRGF0YS50b2tlbnMsXG4gIH0pO1xuXG4gIFxuXG4gIHJldHVybiB7XG4gICAgdG9rZW46IHRva2VuLFxuICAgIHVzZXJJZDogdXNlckRhdGEudXNlcklkLFxuICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiBhdXRoTG9nb3V0KHRva2VuOiBzdHJpbmcpIHtcbiAgY29uc3QgdXNlcklkID0gYXdhaXQgYXV0aGVudGljYXRlRnJvbURCKHRva2VuKTtcbiAgLy8gZmluZCB1c2VyIGluIGRiXG4gIGNvbnN0IHVzZXJSZWYgPSBkYi5jb2xsZWN0aW9uKFwidXNlcnNcIikuZG9jKHVzZXJJZCk7XG4gIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCB1c2VyUmVmLmdldCgpO1xuXG4gIC8vIHJlbW92ZSB0b2tlbiBmcm9tIHVzZXIgb2JqZWN0IGZvciB0aGF0IHBhcnRpY3VsYXIgdXNlclxuICBjb25zdCB1cGRhdGVkVG9rZW5zID0gdXNlckRvYy5kYXRhKCkudG9rZW5zLmZpbHRlcigodCkgPT4gdCAhPT0gdG9rZW4pO1xuXG4gIC8vIHVwZGF0ZSB1c2VyIG9iamVjdCBpbiBkYlxuICBhd2FpdCB1c2VyUmVmLnVwZGF0ZSh7IHRva2VuczogdXBkYXRlZFRva2VucyB9KTtcblxuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCB7IGF1dGhSZWdpc3RlciwgYXV0aExvZ2luLCBhdXRoTG9nb3V0LCBhdXRoUmVnaXN0ZXJDb21wYW55IH07XG4iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmaXJlYmFzZV8xIiwiY292XzEwdGlzNnEzbTQiLCJzIiwicmVxdWlyZSIsIlVzZXJUYWJsZV8xIiwiQ29tcGFueVRhYmxlXzEiLCJFbWFpbFZhbGlkYXRvciIsIl9faW1wb3J0U3RhciIsImh0dHBfZXJyb3JzXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJiY3J5cHRfMSIsImpzb253ZWJ0b2tlbl8xIiwibmFub2lkXzEiLCJhdXRoZW50aWNhdGVGcm9tREIiLCJ0b2tlbiIsImYiLCJkYiIsImNvbGxlY3Rpb24iLCJnZXQiLCJkYXRhIiwiX2EiLCJzZW50IiwiY29uc29sZSIsImxvZyIsImRlY29kZWRUb2tlbiIsImRlZmF1bHQiLCJ2ZXJpZnkiLCJ1c2VySWQiLCJfYiIsImF1dGhSZWdpc3RlckNvbXBhbnkiLCJjb21wYW55TmFtZSIsImNvbXBhbnlFbWFpbCIsIm51bUVtcGxveWVlcyIsIkFCTiIsInZhbGlkYXRlIiwiYiIsInF1ZXJ5Q29tcGFueUV4aXN0cyIsImV4aXN0cyIsImNvbXBhbnkiLCJxdWVyeUNvbXBhbnlDb3VudCIsImNvbXBhbnlLZXkiLCJuZXdDb21wYW55IiwiZG9jIiwic2V0IiwiRXJyb3IiLCJlcnJvcl8xIiwibWVzc2FnZSIsImV4cG9ydHMiLCJhdXRoUmVnaXN0ZXIiLCJlbWFpbCIsInBhc3N3b3JkIiwibmFtZSIsInF1ZXJ5VXNlckJ5RW1haWwiLCJlbWFpbEFscmVhZHlFeGlzdHMiLCJxdWVyeVVzZXJCeUNvbXBhbnlLZXkiLCJjb21wYW55S2V5RXhpc3RzIiwidXNlciIsIm5hbm9pZCIsInNhbHRSb3VuZHMiLCJzYWx0IiwiZ2VuU2FsdFN5bmMiLCJoYXNoIiwiaGFzaFN5bmMiLCJzaWduIiwiZXhwaXJlc0luIiwid2hlcmUiLCJxdWVyeVNuYXBzaG90IiwiZW1wdHkiLCJjb21wYW55RGF0YSIsImRvY3MiLCJ1c2VyT2JqZWN0IiwidG9rZW5zIiwiZXJyb3JfMiIsImF1dGhMb2dpbiIsInF1ZXJ5TG9naW5WYWxpZCIsInVzZXJEYXRhIiwicHVzaCIsInVwZGF0ZSIsImF1dGhMb2dvdXQiLCJ1c2VyUmVmIiwidXNlckRvYyIsInVwZGF0ZWRUb2tlbnMiLCJmaWx0ZXIiLCJ0Il0sInNvdXJjZXMiOlsiL1VzZXJzL3l1c3JhbWFob21lZC9EZXNrdG9wL1NFTkcyMDIxL3NlMjAyMS0yM3QxLWVpbnZvaWNpbmctYXBpLWgxMGFfQ0hFRVNFQ0FLRS1zdG9yYWdlLWFwaS9zcmMvZnVuY3Rpb25zL2F1dGgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RGF0YSwgc2V0RGF0YSB9IGZyb20gXCIuLi9kYlwiO1xuaW1wb3J0IHsgZGIgfSBmcm9tIFwiLi4vY29uZmlnL2ZpcmViYXNlXCI7XG5cbmltcG9ydCB7XG4gIHF1ZXJ5TG9naW5WYWxpZCxcbiAgcXVlcnlVc2VyQnlFbWFpbCxcbiAgcXVlcnlVc2VyQ291bnQsXG59IGZyb20gXCIuLi9zZXJ2aWNlL1VzZXJUYWJsZVwiO1xuaW1wb3J0IHtcbiAgcXVlcnlVc2VyQnlDb21wYW55S2V5LFxuICBxdWVyeUNvbXBhbnlFeGlzdHMsXG4gIHF1ZXJ5Q29tcGFueUNvdW50LFxufSBmcm9tIFwiLi4vc2VydmljZS9Db21wYW55VGFibGVcIjtcbmltcG9ydCAqIGFzIEVtYWlsVmFsaWRhdG9yIGZyb20gXCJlbWFpbC12YWxpZGF0b3JcIjtcbmltcG9ydCBIVFRQRXJyb3IgZnJvbSBcImh0dHAtZXJyb3JzXCI7XG5pbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IHsgdXBkYXRlU2V0QWNjZXNzb3IgfSBmcm9tIFwidHlwZXNjcmlwdFwiO1xuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSBcIm5hbm9pZFwiO1xuaW1wb3J0IHsgZXhpdCB9IGZyb20gXCJwcm9jZXNzXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZUZyb21EQih0b2tlbjogc3RyaW5nKSB7XG4gIC8vIGNvbm5lY3QgdG8gZGJcbiAgY29uc3QgZGF0YSA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKS5nZXQoKTtcblxuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKFwiSEVMTE9PT09cIik7XG4gICAgY29uc3QgZGVjb2RlZFRva2VuID0gand0LnZlcmlmeSh0b2tlbiwgXCJjaGVlc2VjYWtlXCIpIGFzIGp3dC5Kd3RQYXlsb2FkO1xuICAgIC8vIGl0ZXJhdGUgb3ZlciB1c2Vyc1xuICAgIC8vIGlmICghdXNlcikge1xuICAgIC8vICAgdGhyb3cgSFRUUEVycm9yKDQwMCwgXCJJbnZhbGlkIHRva2VuLlwiKTtcbiAgICAvLyB9XG5cbiAgICAvLyByZXR1cm4gYSB1c2VyIGlkXG4gICAgcmV0dXJuIGRlY29kZWRUb2tlbi51c2VySWQ7XG4gIH0gY2F0Y2gge1xuICAgIHRocm93IEhUVFBFcnJvcig0MDMsIFwiSW52YWxpZCB0b2tlbi5cIik7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gYXV0aFJlZ2lzdGVyQ29tcGFueShcbiAgY29tcGFueU5hbWU6IHN0cmluZyxcbiAgY29tcGFueUVtYWlsOiBzdHJpbmcsXG4gIG51bUVtcGxveWVlczogbnVtYmVyLFxuICBBQk46IG51bWJlclxuKSB7XG4gIC8vIGludmFsaWQgZW1haWxcbiAgaWYgKCFFbWFpbFZhbGlkYXRvci52YWxpZGF0ZShjb21wYW55RW1haWwpKSB7XG4gICAgdGhyb3cgSFRUUEVycm9yKDQwMCwgXCJFbWFpbCBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuXG4gIC8vIC8vIGludmFsaWQgQUJOXG4gIC8vIGlmICghaXNWYWxpZEFCTihBQk4pKSB7XG4gIC8vICAgdGhyb3cgSFRUUEVycm9yKDQwMCwgJ0FCTiBpcyBpbnZhbGlkLicpO1xuICAvLyB9XG5cbiAgLy8gY2hlY2sgaWYgY29tcGFueSBhbHJlYWR5IGV4aXN0c1xuICBjb25zdCBleGlzdHMgPSBhd2FpdCBxdWVyeUNvbXBhbnlFeGlzdHMoY29tcGFueU5hbWUpO1xuICBpZiAoZXhpc3RzKSB7XG4gICAgdGhyb3cgSFRUUEVycm9yKDQwMCwgXCJDb21wYW55IGFscmVhZHkgcmVnaXN0ZXJlZC5cIik7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGNvbXBhbnkgPSBkYi5jb2xsZWN0aW9uKFwiY29tcGFuaWVzXCIpO1xuXG4gICAgLy8gbm90IHNlY3VyZSBidXQgaGVscGZ1bCBmb3IgZWFybHkgdGVzdGluZ1xuICAgIGNvbnN0IGNvbXBhbnlLZXkgPSBhd2FpdCBxdWVyeUNvbXBhbnlDb3VudCgpO1xuXG4gICAgY29uc3QgbmV3Q29tcGFueSA9IHtcbiAgICAgIGNvbXBhbnlOYW1lOiBjb21wYW55TmFtZSxcbiAgICAgIGNvbXBhbnlFbWFpbDogY29tcGFueUVtYWlsLFxuICAgICAgY29tcGFueUtleTogY29tcGFueUtleSxcbiAgICAgIG51bUVtcGxveWVlczogbnVtRW1wbG95ZWVzLFxuICAgICAgQUJOOiBBQk4sXG4gICAgfTtcblxuICAgIGF3YWl0IGNvbXBhbnkuZG9jKGNvbXBhbnlOYW1lKS5zZXQobmV3Q29tcGFueSk7XG4gICAgcmV0dXJuIHsgY29tcGFueUtleTogY29tcGFueUtleSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBhdXRoUmVnaXN0ZXIoXG4gIGVtYWlsOiBzdHJpbmcsXG4gIHBhc3N3b3JkOiBzdHJpbmcsXG4gIG5hbWU6IHN0cmluZyxcbiAgY29tcGFueUtleTogc3RyaW5nXG4pIHtcbiAgLy8gaW52YWxpZCBlbWFpbFxuICBpZiAoIUVtYWlsVmFsaWRhdG9yLnZhbGlkYXRlKGVtYWlsKSkge1xuICAgIHRocm93IEhUVFBFcnJvcig0MDAsIFwiRW1haWwgaXMgaW52YWxpZC5cIik7XG4gIH1cblxuICAvLyAgY2hlY2sgaWYgZW1haWwgYWxyZWFkeSBleGlzdHNcbiAgY29uc3QgZW1haWxBbHJlYWR5RXhpc3RzID0gYXdhaXQgcXVlcnlVc2VyQnlFbWFpbChlbWFpbCk7XG4gIGlmIChlbWFpbEFscmVhZHlFeGlzdHMpIHtcbiAgICB0aHJvdyBIVFRQRXJyb3IoNDAwLCBcIkVtYWlsIGFscmVhZHkgcmVnaXN0ZXJlZC5cIik7XG4gIH1cblxuICAvLyBpbnZhbGlkIGNvbXBhbnlLZXlcbiAgY29uc3QgY29tcGFueUtleUV4aXN0cyA9IGF3YWl0IHF1ZXJ5VXNlckJ5Q29tcGFueUtleShjb21wYW55S2V5KTtcbiAgaWYgKCFjb21wYW55S2V5RXhpc3RzKSB7XG4gICAgdGhyb3cgSFRUUEVycm9yKDQwMCwgXCJJbnZhbGlkIGNvbXBhbnkga2V5LlwiKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy9UT0RPIHRva2VuaXplIHBhc3N3b3JkXG5cbiAgICBjb25zdCB1c2VyID0gZGIuY29sbGVjdGlvbihcInVzZXJzXCIpO1xuXG4gICAgY29uc3QgdXNlcklkID0gbmFub2lkKCk7XG5cbiAgICAvLyBwYXNzd29yZCBlbmNyeXB0aW9uXG4gICAgY29uc3Qgc2FsdFJvdW5kcyA9IDEwO1xuICAgIGNvbnN0IHNhbHQgPSBiY3J5cHQuZ2VuU2FsdFN5bmMoc2FsdFJvdW5kcyk7XG4gICAgY29uc3QgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhwYXNzd29yZCwgc2FsdCk7XG5cbiAgICAvLyB0b2tlbnNcbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgdXNlcklkOiB1c2VySWQgfSwgXCJjaGVlc2VjYWtlXCIsIHtcbiAgICAgIGV4cGlyZXNJbjogXCIxZFwiLFxuICAgIH0pO1xuXG4gICAgLy9maW5kIGNvbXBuYXlOYW1lIGJhc2VkIGluIGNvbXBhbnkga2V5IFxuICAgIGNvbnN0IHF1ZXJ5U25hcHNob3QgPSBhd2FpdCBkYlxuICAgIC5jb2xsZWN0aW9uKFwiY29tcGFuaWVzXCIpXG4gICAgLndoZXJlKFwiY29tcGFueUtleVwiLCBcIj09XCIsIGNvbXBhbnlLZXkpXG4gICAgLmdldCgpO1xuICAgIGlmIChxdWVyeVNuYXBzaG90LmVtcHR5KSB7XG4gICAgICB0aHJvdyBIVFRQRXJyb3IoNDAwLCBcImNvbXBhbnkgbmFtZSBkb2VzbnQgZXhpc3Qgb3Igc3RoXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbXBhbnlEYXRhID0gcXVlcnlTbmFwc2hvdC5kb2NzWzBdLmRhdGEoKTtcblxuICAgIGNvbnN0IHVzZXJPYmplY3QgPSB7XG4gICAgICB1c2VySWQsXG4gICAgICBlbWFpbCxcbiAgICAgIGhhc2gsXG4gICAgICBuYW1lLFxuICAgICAgXCJjb21wYW55TmFtZVwiOiBjb21wYW55RGF0YS5jb21wYW55TmFtZSxcbiAgICAgIHRva2VuczogW3Rva2VuXSxcbiAgICB9O1xuXG4gICAgLy8gc2V0IGluIGRhdGFiYXNlXG4gICAgYXdhaXQgdXNlci5kb2ModXNlcklkKS5zZXQodXNlck9iamVjdCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG9rZW46IHRva2VuLFxuICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gYXV0aExvZ2luKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpIHtcbiAgLy8gQ2hlY2sgZW1haWwgYW5kIHBhc3N3b3JkIGFyZSB2YWxpZFxuICBpZiAoIXF1ZXJ5TG9naW5WYWxpZCkge1xuICAgIHRocm93IEhUVFBFcnJvcig0MDAsIFwiSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZC5cIik7XG4gIH1cblxuICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZGJcbiAgICAuY29sbGVjdGlvbihcInVzZXJzXCIpXG4gICAgLndoZXJlKFwiZW1haWxcIiwgXCI9PVwiLCBlbWFpbClcbiAgICAuZ2V0KCk7XG4gIGlmIChxdWVyeVNuYXBzaG90LmVtcHR5KSB7XG4gICAgdGhyb3cgSFRUUEVycm9yKDQwMSwgXCJJbnZhbGlkIHVzZXIuXCIpO1xuICB9XG4gIC8vY29uc29sZS5sb2coXCJ1Z2hcIiwgcXVlcnlTbmFwc2hvdCk7XG4gIGNvbnN0IHVzZXJEYXRhID0gcXVlcnlTbmFwc2hvdC5kb2NzWzBdLmRhdGEoKTtcbiAgLy9jb25zb2xlLmxvZyhcInBsc1wiLCB1c2VyRGF0YSk7XG4gIGNvbnN0IHRva2VuID0gand0LnNpZ24oeyB1c2VySWQ6IHVzZXJEYXRhLnVzZXJJZCB9LCBcImNoZWVzZWNha2VcIiwge1xuICAgIGV4cGlyZXNJbjogXCIxZFwiLFxuICB9KTtcblxuICAvLyBBcHBlbmQgbmV3IHRva2VuIHRvIHRoZSBleGlzdGluZyB0b2tlbiBhcnJheVxuICB1c2VyRGF0YS50b2tlbnMucHVzaCh0b2tlbik7XG5cbiAgLy8gVXBkYXRlIHVzZXIgZG9jdW1lbnQgaW4gRmlyZWJhc2VcbiAgYXdhaXQgZGIuY29sbGVjdGlvbihcInVzZXJzXCIpLmRvYyh1c2VyRGF0YS51c2VySWQpLnVwZGF0ZSh7XG4gICAgdG9rZW5zOiB1c2VyRGF0YS50b2tlbnMsXG4gIH0pO1xuXG4gIFxuXG4gIHJldHVybiB7XG4gICAgdG9rZW46IHRva2VuLFxuICAgIHVzZXJJZDogdXNlckRhdGEudXNlcklkLFxuICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiBhdXRoTG9nb3V0KHRva2VuOiBzdHJpbmcpIHtcbiAgY29uc3QgdXNlcklkID0gYXdhaXQgYXV0aGVudGljYXRlRnJvbURCKHRva2VuKTtcbiAgLy8gZmluZCB1c2VyIGluIGRiXG4gIGNvbnN0IHVzZXJSZWYgPSBkYi5jb2xsZWN0aW9uKFwidXNlcnNcIikuZG9jKHVzZXJJZCk7XG4gIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCB1c2VyUmVmLmdldCgpO1xuXG4gIC8vIHJlbW92ZSB0b2tlbiBmcm9tIHVzZXIgb2JqZWN0IGZvciB0aGF0IHBhcnRpY3VsYXIgdXNlclxuICBjb25zdCB1cGRhdGVkVG9rZW5zID0gdXNlckRvYy5kYXRhKCkudG9rZW5zLmZpbHRlcigodCkgPT4gdCAhPT0gdG9rZW4pO1xuXG4gIC8vIHVwZGF0ZSB1c2VyIG9iamVjdCBpbiBkYlxuICBhd2FpdCB1c2VyUmVmLnVwZGF0ZSh7IHRva2VuczogdXBkYXRlZFRva2VucyB9KTtcblxuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCB7IGF1dGhSZWdpc3RlciwgYXV0aExvZ2luLCBhdXRoTG9nb3V0LCBhdXRoUmVnaXN0ZXJDb21wYW55IH07XG4iXSwibWFwcGluZ3MiOiI7NmdTQUNBLElBQUFBLFVBQUEsRUFBQUMsY0FBQSxHQUFBQyxDQUFBLE9BQUFDLE9BQUEsd0JBRUEsSUFBQUMsV0FBQSxFQUFBSCxjQUFBLEdBQUFDLENBQUEsT0FBQUMsT0FBQSwwQkFLQSxJQUFBRSxjQUFBLEVBQUFKLGNBQUEsR0FBQUMsQ0FBQSxPQUFBQyxPQUFBLDZCQUtBLElBQUFHLGNBQUEsRUFBQUwsY0FBQSxHQUFBQyxDQUFBLE9BQUFLLFlBQUEsQ0FBQUosT0FBQSxzQkFDQSxJQUFBSyxhQUFBLEVBQUFQLGNBQUEsR0FBQUMsQ0FBQSxPQUFBTyxlQUFBLENBQUFOLE9BQUEsa0JBQ0EsSUFBQU8sUUFBQSxFQUFBVCxjQUFBLEdBQUFDLENBQUEsT0FBQU8sZUFBQSxDQUFBTixPQUFBLGFBQ0EsSUFBQVEsY0FBQSxFQUFBVixjQUFBLEdBQUFDLENBQUEsUUFBQU8sZUFBQSxDQUFBTixPQUFBLG1CQUVBLElBQUFTLFFBQUEsRUFBQVgsY0FBQSxHQUFBQyxDQUFBLFFBQUFDLE9BQUEsWUFHQSxRQUFlLENBQUFVLGtCQUFrQkEsQ0FBQ0MsS0FBYSxFQUFBYixjQUFBLEdBQUFjLENBQUEsT0FBQWQsY0FBQSxHQUFBQyxDQUFBLFEsOFJBRWhDLGtCQUFNRixVQUFBLENBQUFnQixFQUFFLENBQUNDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQ0MsR0FBRyxFQUFFLEUsNkRBQXpDQyxJQUFJLENBQUdDLEVBQUEsQ0FBQUMsSUFBQSxFQUFrQyxDQUFBcEIsY0FBQSxHQUFBQyxDQUFBLFFBRS9DLEdBQUksQ0FBQUQsY0FBQSxHQUFBQyxDQUFBLFFBQ0ZvQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQ3RCLGNB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